為驗證卷積層效用，本研究CNN架構以卷積層為主，最後銜接一線性全連接輸出層。卷積層以滑動視窗搭配卷積核對輸入矩陣進行卷積運算，運算結果經激勵函數處理後得到特徵圖，作為下一層的輸入。卷積層運作方式如下，其中𝑤為卷積核參數，𝑥為輸入值，a為輸出值，𝑓(∙)為激勵函數：

𝑎𝑖,𝑗 = 𝑓(∑ⁿₘ₁∑ᴹ𝑚₁ 𝑤𝑚,𝑛𝑥𝑖+𝑚−1,𝑗+𝑛−1).

全連接層接收前一層所有神經元輸出，並將其平坦化。

本研究CNN架構設定如下：卷積層使用大小為 2x2 的卷積核、步幅為 1，激勵函數為tanh (適用於漲跌值數據，輸出區間[-1,1])，公式如下，其中𝑧為卷積運算後的數值：

tanh(𝑧𝑖,𝑗) = (1 - 𝑒⁻²ᶻⁱ,ʲ) / (1 + 𝑒⁻²ᶻⁱ,ʲ).

架構包含三層卷積層 (C1, C2, C3) 和一層全連接層 (FC)。

多目標特徵選取後得到|𝐹𝑃|個特徵，為符合CNN輸入格式，選取小於等於|𝐹𝑃|的平方數𝑁作為輸入特徵個數，將選取的𝑁個特徵 (𝑠𝑓₁, 𝑠𝑓₂, … , 𝑠𝑓𝑁) 重構為方陣作為模型輸入。
