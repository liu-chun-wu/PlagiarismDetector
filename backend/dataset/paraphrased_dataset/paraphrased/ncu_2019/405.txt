第二章提到的PSO-RLSE複合式學習演算法，利用PSO訓練前鑑部參數，RLSE訓練後鑑部參數。WOA-RLSE複合式學習演算法則是以鯨群演算法(WOA)取代PSO。前鑑部參數包含模糊集合參數，由WOA訓練建構模糊集合，計算啟動強度並正規化後輸入RLSE。後鑑部參數則為近似函數所需參數，由RLSE訓練。透過迭代學習調整參數，最小化輸出與目標的誤差，使測試資料能依據學習參數進行目標預測。有效率地分割參數空間以找到最佳解是WOA-RLSE複合式學習演算法的主要目的，其流程圖如圖4所示。

複數型態的目標值建構方式如下：

target(f) = t(f) + t(f) * j
target(f) = t(f) + t(f) * j
...
target(|𝑇𝑇𝑇𝑇|/f) = t(|𝑇𝑇𝑇𝑇|-f) + t(|𝑇𝑇𝑇𝑇|) * j ,

其中target代表模型目標；t為目標變數；|𝑇𝑇𝑇𝑇|為目標變數個數；𝑗𝑗= √−1。


本研究使用均方根誤差(RMSE)評估目標與實際輸出的誤差值，作為WOA-RLSE複合式演算法的效能指標，計算方式如下：

RMSE = √(∑(𝑒𝑒𝑖𝑖)^2 / m) ,

其中m為資料對總數量；𝑒𝑒𝑖𝑖為第i對誤差。RMSE為誤差平方和累加除以資料對總數後開根號的結果。

實驗數據會先正規化至[0,1]之間，公式如下：

𝑥𝑥∗= (𝑥𝑥−𝑥𝑥min) / (𝑥𝑥max−𝑥𝑥min) ,

其中𝑥𝑥為原始資料，𝑥𝑥∗為正規化後的資料，𝑥𝑥max、𝑥𝑥min為原始資料的最大與最小值。

實驗以一個月份的資料預測後一天股價，執行十次，每次迭代1000回，設計三個實驗探討模型架構優劣。模型使用區塊挑選(Block selection)篩選建構矩陣以減少規則數，避免過度擬合。區塊挑選的門檻值為所有區塊啟動強度和的平均值，並挑選啟動強度和最高的前2-4條規則作為模型的訓練參數。
