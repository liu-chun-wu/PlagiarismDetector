4.3.1.1. 不同標的 在其他參數固定下，檢視不同標的與持有天數對年化報酬率的影響。其他參數的 組合有預測次日或次週收盤價*神經元數*神經網路數 = 2*3*2 = 12 種組合，如圖 8、 圖 9 。圖 8 為以TCN 神經網路預測下，不同標的與持有天數對年化報酬率的影響， X 軸為持有天數，Y 軸為年化報酬率、圖 9 為以RES LSTM 神經網路預測，不同標的 與持有天數對年化報酬率的影響，X 軸為持有天數，Y 軸為年化報酬率。 由圖 8 可看出以TCN 網路預測，神經元的變動(32、128、512)對於持有天數及年 化報酬率的走勢影響不大，另外可以看出神經元數越少，報酬率大抵越高。各標的報 酬率較高的持有天數各不相同，微軟(MSFT)報酬率最高的持有天數大多為6~8 天，紐 約證交所綜合指數(NYA)、S&P 500(GSPC) 報酬率最高的持有天數大多為4~5 天， JPMorgan Chase(JPM)報酬率最高的持有天數因預測次日或次週收盤價、神經元數不 同，報酬率最高的天數可能為4、6、8、9、10 天。 由圖 9 可看出用RES LSTM 神經網路預測，神經元數的變動(32、128、512)對於 持有天數及年化報酬率的走勢影響不大，另外可以看出神經元數越少，報酬率大抵越 高。值得注意的一點是，預測次營業日、神經元數128 的情況下，微軟(MSFT)在持有 天數6~8 天時，形成了一個年化報酬率的山谷，即持有7 天時獲利比持有6 天、8 天 低；可以注意到預測次週後、神經元數128，JPMorgan Chase(JPM)也產生類似的情 形。各標的報酬率較高的持有天數各不相同，且有些標的走勢與用TCN 網路預測時不 同，JPMorgan Chase(JPM)在神經元數128 的情況下，報酬率最高的持有天數變為9~11 天。 由圖 9 可看出用RES LSTM 神經網路預測，神經元數的變動(32、128、512)對於 持有天數及年化報酬率的走勢影響不大，另外可以看出神經元數越少，報酬率大抵越 高。值得注意的一點是，預測次營業日、神經元數128 的情況下，微軟(MSFT)在持有 天數6~8 天時，形成了一個年化報酬率的山谷，即持有7 天時獲利比持有6 天、8 天 低；可以注意到預測次週後、神經元數128，JPMorgan Chase(JPM)也產生類似的情 形。各標的報酬率較高的持有天數各不相同，且有些標的走勢與用TCN 網路預測時不 同，JPMorgan Chase(JPM)在神經元數128 的情況下，報酬率最高的持有天數變為9~11 圖 8 以TCN 神經網路預測下，不同個股與持有天數對年化報酬率的影響 天。 圖 9 以RES LSTM 神經網路預測，不同個股與持有天數對年化報酬率的影響 4.3.1.2. 預測次日或次週收盤價、不同神經網路: 在其他參數固定下，檢視不同神經網路與持有天數對年化報酬率的影響(由於神經 網路只有兩種，持有天數也只有兩種，置於一張圖上不會過於凌亂，為了減少圖表個 數一起比較)。為了方便比較，將神經元數32、128、512 三種參數組合產生的年化報 酬率做平均，得到神經元平均報酬率(與第3 章神經元平均報酬率定義相同)，其他參數 的組合為不同標的=4 種組合，結果如圖 10，X 軸為持有天數，Y 軸為年化報酬 率。 由圖 10 可看到預測次日或次週收盤價(1、5 個營業日)、不同神經網路(TCN 及 RES LSTM)4 種組合在預測S&P 500(GSPC)、微軟(MSFT)、紐約證交所綜合指數 (NYA)時，4 種組合走勢在折線圖上大略相同，但預測JPMorgan Chase 時4 種組合在折 線圖上走勢不同，呈現較不規則的走勢。 圖 10 不同神經網路與持有天數對年化報酬率的影響 4.3.1.3. 不同神經元數 在其他參數固定下，檢視不同神經元數與持有天數對年化報酬率的影響。其他參 數的組合有不同標的*預測次日或次週收盤價 *神經網路數 = 4*2*2 = 16 種組合，圖 11、圖 12、圖 13、圖 14 分別為預測標的為NYA、GSPC、MSFT、JPM 時，不同神 經元數對年化報酬率的影響，X 軸為持有天數，Y 軸為年化報酬率。 圖 11，預測標的為NYA 時，大致上神經元數設為32 可以提供最好的年化報 酬率。 圖 11  預測標的為NYA，不同神經元數對年化報酬率的影響 圖 12  預測標的為GSPC，不同神經元數對年化報酬率的影響 圖 13 預測標的為MSFT，不同神經元數對年化報酬率的影響 圖 12 可看出，預測標的為GSPC 時，預測次日或次週收盤價、不同網路形成的4 種組合，預測次週後，使用TCN 網路、預測次營業日，使用RES LSTM 網路這兩種組 合均為128 個神經元效果較好。預測次週，使用RES LSTM 網路這兩種組合則為有的 持有天數32 個神經元較好，有的為128 個神經元效果較好。 圖 13 可看出，預測標的為MSFT 時，預測次日或次週、不同網路形成的4 種組 合，有的為32 個神經元較好，有的為128 個神經元，但是512 個神經元不論何持有天 數大致上年化報酬率均為最低。 圖 14 可以看出，預測標的為JPM 時，神經元數對於年化報酬率在其他參數不同 時的影響，有著最分歧的結果。預測次營業日，模型為TCN 及RES LSTM 時，都會因 為持有天數不同，較優的神經元數有不同的情形，有的持有天數為神經元數512 較 優，有的持有天數為神經元數32 較優，有的為神經元數128。 4.3.1.4. 預測標的、預測次營業日(x=1)或次週(x=5)之收盤價、神經網路3 個參數對報酬 率勝過買進持有天數的影響明細: 本節統整在不同標的下、預測次日或次週收盤價、不同神經網路3 個參數對報酬 率勝過買進持有天數的影響，列於表格7，顯示了本研究交易策略，報酬率勝過買進持 有的持有天數。 圖 14 預測標的為JPM，不同神經元數對年化報酬率的影響 首先說明比較項目定義： 平均報酬率：指在該投資標的、預測幾個營業日後收盤價、神經網路、持有 天數4 參數組合下，將神經元數32、128、512 三種參數組合產生的年化報酬 率做平均，得到平均報酬率。 buy and hold：為買進持有該標的之年化報酬率。 神經元平均報酬率勝過 buy and hold 持有天數：平均報酬率勝過買進持有的 持有天數，例如標的S&P 500(GSPC)，在預測次營業日收盤價的情況下，神 經網路為TCN 時，策略參數為持有4 天時報酬率勝過買進持有、標的S&P 500(GSPC)，在預測次週收盤價的情況下，神經網路為TCN 時，策略參數為 持有4~8 天時報酬率勝過買進持有。 形成獲利高原:神經元平均報酬率若連續有超過一天持有天數年化報酬率高於 買進持有策略的年化報酬率，視為該參數組合可形成獲利高原。 表格 7 預測標的、預測幾個營業日後收盤價、神經網路3 參數對報酬率勝過買進持 有天數的影響明細 標的 預測 次營業日(𝑥=1) 或次週(𝑥=5) 收盤價 神經網路 buy and hold 神經元平均報酬 率勝過 buy and hold 持有天數 形成獲利高原 GSPC TCN 11.8 否 RES LSTM 否 TCN 4~8 是 RES LSTM 否 NYA TCN 7.52 x 否 RES LSTM x 否 TCN 4、6 否 RES LSTM 4~6、8 是 MSFT TCN 23.03 6~8 是 RES LSTM 6~8 是 TCN 6~8 是 RES LSTM 6~9 是 標的 預測次營業日 (𝑥=1)或次週 (𝑥=5)收盤價(𝑥) 神經網路 buy and hold 神經元平均報酬 率勝過 buy and hold 持有天數 形成獲利 高原 JPM TCN 15.82 4、9~10 否 RES LSTM 6、10 是 TCN 4、8~10 是 RES LSTM 5~6、9~10 是 從表格 7 可看出預測次週後收盤價產生之獲利高原較預測次營業日(𝑥=1)收盤價 多，預測次週(𝑥=5)後收盤價之參數組合產生6 組獲利高原，預測次營業日(𝑥=1)收盤價 之參數組合只有3 組獲利高原。不同神經網路比較方面，TCN 網路產生5 組獲利高 原，RES LSTM 網路產生4 組獲利高原，就產生獲利高原的組數而言，TCN 網路較 RES LSTM 好。
