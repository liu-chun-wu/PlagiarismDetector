實驗一當中使用上海證券交易所綜合股價指數（SSEC）、香港恒生指數（HSI）、 日經平均指數（Nikkei 225）、那斯達克綜合指數（NASDAQ）自2018 年1 月1 日 至2018 年12 月31 日的股票收盤價，取交集共217 筆交易資料作為模型輸入進行 四目標預測，候選特徵數為30 得187 筆資料對，其中取83%作為訓練資料集，共 156 筆，其餘為測試資料。 特徵選取對智慧型時間序列預測之效能研究 實驗內容 研究生：陸怡廷 指導教授：李俊賢博士 本實驗將候選特徵依其貢獻指數排列之後，分別透過順序與倒序的方式取前2、 4、6、8 個特徵，亦即貢獻指數表現最佳與最劣的2、4、6、8 個特徵進行預測， 用以檢驗貢獻指數的有效性以及特徵數量對預測結果的影響。由於所選取的特徵 個數不同，規則數亦有所不同，故實驗中統一使用最少的規則數3，減少後鑑部參 數量的差異以維持實驗的公正性。在此將貢獻指數表現最佳與最劣的兩個候選特 徵與目標變數的機率密度函數進行作圖，可參考圖5-12。 圖 5：2018 年SSEC 目標與特徵𝐟𝐟𝐟𝐟𝐟𝐟、 𝐟𝐟𝐟𝐟𝐟𝐟條件下的目標機率密度分布 （順序選取） 圖 6：2018 年SSEC 目標與特徵 𝐟𝐟𝐟𝐟𝐟𝐟𝐟𝐟、𝐟𝐟𝐟𝐟𝐟𝐟條件下的目標機率密度分布 （倒序選取） 圖 7：2018 年Nikkei 225 目標與特徵 𝐟𝐟𝐟𝐟𝐟𝐟、𝐟𝐟𝐟𝐟𝐟𝐟條件下的目標機率密度分布 （順序選取） 圖 8：2018 年Nikkei 225 目標與特徵 𝐟𝐟𝐟𝐟𝐟𝐟𝐟𝐟、𝐟𝐟𝐟𝐟𝐟𝐟條件下的目標機率密度分布 （倒序選取） -0.08 -0.06 -0.04 -0.02 0.02 0.04 0.06 0.08 X Probability SSEC Probability density distributions of features and targets p d (t SSEC ) p d (t SSEC | f - ) p d (t SSEC | f + ) p d (t SSEC | f - ) p d (t SSEC | f + ) -0.08 -0.06 -0.04 -0.02 0.02 0.04 0.06 0.08 X Probability SSEC Probability density distributions of features and targets p d (t SSEC ) p d (t SSEC | f - ) p d (t SSEC | f + ) p d (t SSEC | f - ) p d (t SSEC | f + ) -0.08 -0.06 -0.04 -0.02 0.02 0.04 0.06 0.08 X Probability Nikkei Probability density distributions of features and targets p d (t Nikkei ) p d (t Nikkei | f - ) p d (t Nikkei | f + ) p d (t Nikkei | f - ) p d (t Nikkei | f + ) -0.08 -0.06 -0.04 -0.02 0.02 0.04 0.06 0.08 X Probability Nikkei Probability density distributions of features and targets p d (t Nikkei ) p d (t Nikkei | f - ) p d (t Nikkei | f + ) p d (t Nikkei | f - ) p d (t Nikkei | f + ) 特徵選取對智慧型時間序列預測之效能研究 實驗內容 研究生：陸怡廷 指導教授：李俊賢博士 圖 9：2018 年NASDAQ 目標與特徵 𝐟𝐟𝐟𝐟𝐟𝐟、𝐟𝐟𝐟𝐟𝐟𝐟條件下的目標機率密度分布 （順序選取） 圖 10：2018 年NASDAQ 目標與特徵 𝐟𝐟𝐟𝐟𝐟𝐟𝐟𝐟、𝐟𝐟𝐟𝐟𝐟𝐟條件下的目標機率密度分布 （倒序選取） 圖 11：2018 年HSI 目標與特徵 𝐟𝐟𝐟𝐟𝐟𝐟、𝐟𝐟𝐟𝐟𝐟𝐟條件下的目標機率密度分布 （順序選取） 圖 12：2018 年HSI 目標與特徵𝐟𝐟𝐟𝐟𝐟𝐟𝐟𝐟、 𝐟𝐟𝐟𝐟𝐟𝐟條件下的目標機率密度分布 （倒序選取） 圖5-12 當中標示目標變數本身與目標變數受到貢獻指數最高的𝐟𝐟𝐟𝐟𝐟𝐟、𝐟𝐟𝐟𝐟𝐟𝐟其正負 值影響後的機率密度函數（圖5、7、9、10），以及目標變數本身與目標變數受到 貢獻指數最低的𝐟𝐟𝐟𝐟𝐟𝐟𝐟𝐟、𝐟𝐟𝐟𝐟𝐟𝐟其正負值影響後的機率密度函數（圖6、8、10、12），透過 公式（16）的計算可藉由機率密度之間的差評估特徵對目標的資訊量，成為特徵挑 選的主要依據。由圖中可觀察到目標變數受到表現最佳的特徵影響後，其機率密度 函數的圖形具有抽高的現象，反之則下降。 如前文所述特徵挑選的方式又分為順序挑選與倒序挑選兩種，順序挑選 （descending order）即選擇貢獻指數表現最佳的2、4、6、8 個特徵，反之倒序挑 -0.08 -0.06 -0.04 -0.02 0.02 0.04 0.06 0.08 X Probability NASDAQ Probability density distributions of features and targets p d (t NASDAQ ) p d (t NASDAQ | f - ) p d (t NASDAQ | f + ) p d (t NASDAQ | f - ) p d (t NASDAQ | f + ) -0.08 -0.06 -0.04 -0.02 0.02 0.04 0.06 0.08 X Probability NASDAQ Probability density distributions of features and targets p d (t NASDAQ ) p d (t NASDAQ | f - ) p d (t NASDAQ | f + ) p d (t NASDAQ | f - ) p d (t NASDAQ | f + ) -0.08 -0.06 -0.04 -0.02 0.02 0.04 0.06 0.08 X Probability HSI Probability density distributions of features and targets p d (t HSI ) p d (t HSI | f - ) p d (t HSI | f + ) p d (t HSI | f - ) p d (t HSI | f + ) -0.08 -0.06 -0.04 -0.02 0.02 0.04 0.06 0.08 X Probability HSI Probability density distributions of features and targets p d (t HSI ) p d (t HSI | f - ) p d (t HSI | f + ) p d (t HSI | f - ) p d (t HSI | f + ) 特徵選取對智慧型時間序列預測之效能研究 實驗內容 研究生：陸怡廷 指導教授：李俊賢博士 選（ascending order）則選擇貢獻指數表現最劣的2、4、6、8 個特徵。實驗結果列 於表5，以Feature 代指特徵，RMSE 最低者以粗體示之。 表 5：四目標預測特徵多寡之效能比較（RMSE） RMSE SSEC HIS Nikkei 225 NASDAQ Average 2 Features Descending 35.1970 350.6400 222.6781 94.1295 175.6612 Ascending 35.7287 366.9145 253.3162 94.5546 187.6285 4 Features Descending 34.8774 328.2104 232.2399 96.4573 172.9463 Ascending 37.7493 386.4353 242.8330 88.6865 188.926 6 Features Descending 34.3217 325.1491 222.2573 97.0546 169.6957 Ascending 35.0286 372.4195 249.4580 98.9589 188.9663 8 Features Descending 33.3978 326.2835 210.2565 92.2382 165.544 Ascending 35.8468 380.9012 252.2235 88.7380 189.4274 由上表5 當中可得知，順序選取特徵數較少的平均RMSE 均高於特徵數較多 者，亦即RMSE 隨著特徵數目的增加而減少，故數量的多寡確實會影響模型的輸 出結果；此外，順序挑選的RMSE 表現大致低於倒序挑選，其中取4 個特徵與8 個特徵作為模型輸入時，NASDAQ 出現倒序優於順序的現象，平均後的RMSE 又 回歸於順序優於倒序的情形，即該實驗中順序選取的特徵不一定對每個單一市場 有效，但對模型整體而言具有高度影響力。整體而言，順序挑選的RMSE 其平均 值優於倒序挑選，驗證了貢獻指數的有效性。
