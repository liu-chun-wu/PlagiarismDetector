4.3.2.1. 不同神經元數投資績效: 將其他參數平均後，檢視不同神經元數下，第2 個參數造成的影響(對所選的參數 以外的參數做平均，例如選擇不同神經元、預測次日或次週收盤價，則對不同神經網 路、不同預測標的平均)。 4.3.2.1.1. 不同神經元數、預測次日或次週收盤價: 檢視不同神經元數下，預測次日或次週收盤價造成的影響，結果如圖 15。可以從 圖 15 看到不論在預測次營業日收盤價或是預測次週收盤價情況下，年化報酬率均為神 經元數32>神經元數128>神經元數512，神經元數越少報酬率越高。另外也可看出不 同神經元數下其他參數組合全部平均後，年化報酬率亦為神經元數32>神經元數128> 神經元數512。顯示神經元數越少報酬率越高，但有一點值得注意的是風險報酬比無此 特性。 圖 15 不同神經元數、預測次日或次週收盤價之投資績效 神經元數 預測次營業日或次週營業日後 收盤價 11.52 6.43 2.01 次日 10.42 5.54 1.74 次週 12.61 7.31 2.28 11.12 6.52 2.03 次日 10.12 6.62 1.84 次週 12.12 6.42 2.22 10.12 5.87 1.89 次日 9.88 5.76 1.75 次週 10.35 5.98 2.02 平均 10.92 6.27 1.98 年化報酬率 年化報酬率標準差 風險報酬比 4.3.2.1.2. 不同神經元數、不同神經網路 圖 16 可以看到不論用RES LSTM 網路或TCN 網路預測，年化報酬率均為神經元 數32>神經元數128>神經元數512，神經元數越少報酬率越高。另外可以看到，神經 元數32、神經元數128 的情況下，平均而言，TCN 網路年化報酬率優於RES LSTM 年 化報酬率；但是神經元數512 的情況下，平均而言，RES LSTM 網路年化報酬率優於 TCN 年化報酬率。就風險報酬比而言，不論神經元數，TCN 網路均優於RES LSTM 網 路，但以上均未做假設檢定檢驗。 4.3.2.2. 不同神經網路投資績效: 與4.3.2.1 節概念相同，將其他參數平均後，檢視不同神經網路下，第2 個參數造 成的影響。 4.3.2.2.1. 不同神經網路、不同神經元數: 結果與4.3.2.1.2 節相同，不再贅述。 4.3.2.2.2. 不同神經網路、預測次日或次週收盤價: 圖 17 可以看到不論用RES LSTM 網路或TCN 網路預測，年化報酬率及風險報酬 比均為預測次週收盤價高於預測次營業日收盤價。另外可以看到，就年化報酬率及風 險報酬比而言，TCN 網路均優於RES LSTM 網路。 神經元數 神經網路 11.52 6.43 2.01 RES LSTM 11.12 6.73 1.93 TCN 11.92 6.12 2.09 11.12 6.52 2.03 RES LSTM 10.36 6.95 1.87 TCN 11.88 6.08 2.19 10.12 5.87 1.89 RES LSTM 10.16 5.93 1.86 TCN 10.07 5.80 1.91 平均 10.92 6.27 1.98 風險報酬比 年化報酬率 年化報酬率標準差 圖 16 不同神經元數、不同神經網路之投資績效 圖 17 不同神經網路、不同神經網路之投資績效 4.3.2.3. 不同標的、預測次日或次週收盤價、不同神經網路投資績效明細 本節說明在不同標的下、預測次日或次週收盤價、不同神經網路對投資績效的影響， 列於表格 8。 首先說明比較項目定義： 平均報酬率：指在該投資標的、預測次日或次週收盤價、神經網路參數組合 下，將神經元數平均、持有天數平均後得到之報酬率。 平均風險報酬比：指在該投資標的、預測次日或次週收盤價、神經網路參數 組合下，將神經元數平均、持有天數平均後得到之風險報酬比。 buy and hold：為買進持有該標的之年化報酬率。 平均報酬率勝過buy and hold：表示神經元不需選擇、持有天數不需選擇，平 均而言即可勝過買進持有。 從表格 8 可看出僅有標的為微軟(MSFT)、預測次營業日平均報酬率勝過buy and hold，顯示股票投資深度學習模型仍須慎選參數。 從表格 8 可以整理出以下說明在不同標的、預測次日或次週收盤價下，在比較報 酬率、報酬率標準差、風險報酬比情況下哪個神經網路較優，列於表格 9。 表格 8 不同標的下、預測次日或次週收盤價、不同神經網路對投資績效的影響 標的 預測 次日或次週 收盤價(𝑥) 神經 網路 平均 報酬率 平均 風險報酬比 報酬率標 準差 buy and hold 平均報 酬率勝 過buy and hold gspc tcn 5.16 1.53 4.77 11.8 否 res 6.06 1.7 5.01 否 tcn 11.73 3.45 6.19 否 res 6.59 1.78 5.24 否 nya tcn 4.01 1.22 1.68 7.52 否 res 5.33 1.74 2.85 否 tcn 6.07 1.55 3.97 否 res 7.48 2.08 3.96 否 神經網路 預測次營業日或次週營業日後 收盤價 TCN 11.29 6.00 2.06 次日 10.10 5.75 1.74 次週 12.48 6.26 2.39 RES LSTM 10.54 6.54 1.89 次日 10.18 6.20 1.82 次週 10.91 6.88 1.96 總計 10.92 6.27 1.98 風險報酬比 年化報酬率年化報酬率 標準差 標的 預測 幾個 營業日 後收盤價 神經 網路 平均 報酬率 平均 風險報酬比 報酬率標 準差 buy and hold 平均報 酬率勝 過buy and hold msft tcn 23.29 2.89 10.67 23.03 是 res 23.36 2.82 11.37 是 tcn 21.1 2.81 9.3 否 res 19.42 2.43 11.39 否 jpm tcn 10.6 1.58 6.35 15.82 否 res 8.84 1.3 6.36 否 tcn 12.55 1.84 8.02 否 res 12.22 1.77 8.3 否 表格 9 不同標的、預測次日或次週收盤價下哪個神經網路較優 標的 預測幾個 營業日收 盤價(𝑥) 平均報酬率 平均 風險報酬比 報酬率標準差 gspc RES LSTM RES LSTM TCN TCN TCN RES LSTM nya RES LSTM RES LSTM TCN RES LSTM RES LSTM RES LSTM msft RES LSTM TCN TCN RES LSTM TCN TCN jpm TCN TCN TCN TCN TCN TCN 表格 9 可看出參數的組合有預測標的*預測幾個營業日後收盤價 = 4*2 = 8 種組 合。在8 種組合中，可以看到不同神經網路在4 個預測標的的平均報酬率各有優劣， 但是8 種組合中有5 個組合為RES LSTM 網路獲勝，但是考量到風險的獲利指標，風 險報酬比，8 種組合中有5 個組合為TCN 網路獲勝。不論是參數以及訓練時間，均是 RES LSTM 多於TCN(詳附錄1)，但是經過風險調整的獲利指標，風險報酬比，8 種組 合中有5 個組合為TCN 網路獲勝。 伍. 結論
