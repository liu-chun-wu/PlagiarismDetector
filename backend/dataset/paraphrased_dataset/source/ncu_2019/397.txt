計算出影響資訊矩陣階段之後即可取得|𝑇𝑇𝑇𝑇| 個IIM ，記作𝐼𝐼𝐼𝐼𝑀𝑀(𝑗𝑗)且𝑗𝑗= 1,2, … , |𝑇𝑇𝑇𝑇|。接著必須計算第i 個候選特徵對第j 個目標的增益資訊量（Selection gain），以符號 𝑔𝑔表示，計算方式如下： 𝑔𝑔(𝐟𝐟𝐢𝐢→𝐭𝐭(𝐣𝐣)) = 𝐼𝐼𝐟𝐟𝐢𝐢→𝐭𝐭(𝐣𝐣) −𝑅𝑅𝐟𝐟𝐢𝐢→𝑇𝑇𝑃𝑃(𝑗𝑗), (25) 其中𝐼𝐼𝐟𝐟𝐢𝐢→𝐭𝐭𝐣𝐣為第i 個特徵對第j 個目標的影響資訊，𝑅𝑅𝐟𝐟𝐢𝐢→SP(j) 為第i 個特徵對𝑇𝑇𝑃𝑃(𝑗𝑗)的 冗餘資訊量（Redundant information），其目的在於去除不同的已選特徵池中 （Selected feature pool, SP）重複汲取到的資訊量，公式如下： 𝑅𝑅𝐟𝐟𝐢𝐢→𝑇𝑇𝑃𝑃(𝑗𝑗) = 2 × |𝑇𝑇𝑃𝑃(𝑗𝑗)| ൞෍𝐼𝐼𝐟𝐟𝐢𝐢→𝑇𝑇𝑃𝑃𝑞𝑞 (𝑗𝑗) + 𝐼𝐼𝑇𝑇𝑃𝑃𝑞𝑞 (𝑗𝑗)→𝐟𝐟𝐢𝐢 ห𝑇𝑇𝑃𝑃(𝑗𝑗)ห 𝑞𝑞=1 ൢ, (26) 若𝑔𝑔(𝐟𝐟𝐢𝐢→𝐭𝐭𝐣𝐣)為正，將該候選特徵放入已選特徵池，以𝑇𝑇𝑃𝑃(𝑗𝑗)表示第j 個已選特徵 池，此步驟結束後共能取得|𝑇𝑇𝑇𝑇|個已選特徵池。 特徵選取對智慧型時間序列預測之效能研究 研究方法 研究生：陸怡廷 指導教授：李俊賢博士 將所有已選特徵池中的特徵變數取出形成集合Ω = {𝛷𝛷𝑘𝑘, 𝑘𝑘= 1,2, … |Ω|}，其中 𝛷𝛷𝑘𝑘為集合Ω中的第k 個特徵變數，且k=1,2,…, |Ω|。由於已選特徵池中可能會選擇 到重複的特徵變數，故對於每個𝛷𝛷𝑘𝑘都必須計算它被重複選取的數目，標記為 𝑛𝑛𝑂𝑂𝑂𝑂(𝛷𝛷𝑘𝑘)，並且計算其覆蓋率（Covering rate）記作ω，則每個𝛷𝛷𝑘𝑘對於所有目標變數 的覆蓋率ω計算公式如下： 𝜔𝜔(𝛷𝛷𝑘𝑘) = 𝑛𝑛𝑂𝑂𝑂𝑂(𝛷𝛷𝑘𝑘) |𝑇𝑇𝑇𝑇| . (27) 接著將每個𝛷𝛷𝑘𝑘對目標變數的增益資訊量進行累加，得到𝛷𝛷𝑘𝑘的總增益資訊量 𝑔𝑔𝑠𝑠𝑠𝑠𝑠𝑠(𝛷𝛷𝑘𝑘)： 𝑔𝑔𝑠𝑠𝑠𝑠𝑠𝑠(𝛷𝛷𝑘𝑘) = ෍ 𝑔𝑔൫𝛷𝛷𝑘𝑘→𝑡𝑡(𝑗𝑗)൯ |𝑇𝑇𝑇𝑇| 𝑗𝑗=1 . (28) 透過𝛷𝛷𝑘𝑘的覆蓋率𝜔𝜔(𝛷𝛷𝑘𝑘)與總增益資訊量𝑔𝑔𝑠𝑠𝑠𝑠𝑠𝑠(𝛷𝛷𝑘𝑘)則可以計算出特徵變數𝛷𝛷𝑘𝑘的貢獻 指數（Contribution index）記作ρ： ρ(𝛷𝛷𝑘𝑘) = 𝜔𝜔(𝛷𝛷𝑘𝑘). 𝑔𝑔𝑠𝑠𝑠𝑠𝑠𝑠(𝛷𝛷𝑘𝑘), (29) ρ(𝛷𝛷𝑘𝑘)可用來解釋𝛷𝛷𝑘𝑘對於所有目標變數的有效貢獻，若ρ(𝛷𝛷𝑘𝑘)的值大於所設定的門 檻𝜌𝜌𝑡𝑡ℎ，則可說𝛷𝛷𝑘𝑘對於目標變數具有顯著的影響力。預設𝜌𝜌𝑡𝑡ℎ= 𝜔𝜔ഥ. 𝑔𝑔̅𝑠𝑠𝑠𝑠𝑠𝑠，其中ωഥ為所 有特徵變數覆蓋率的平均值，𝑔𝑔̅𝑠𝑠𝑠𝑠𝑠𝑠為所有特徵變數總增益資訊量的平均值。若 ρ(𝛷𝛷𝑘𝑘) > 𝜌𝜌𝑡𝑡ℎ則以𝑛𝑛𝑡𝑡𝑠𝑠𝑡𝑡紀錄符合門檻值的特徵個數，且1 ≤𝑛𝑛𝑡𝑡𝑠𝑠𝑡𝑡≤|Ω|，同時設定最 終特徵池（Final pool, FP）中特徵變數個數的上限𝑛𝑛𝑈𝑈與下限𝑛𝑛𝑂𝑂，在介於𝑛𝑛𝑈𝑈、𝑛𝑛𝑂𝑂之間 取最大值作為最終特徵池的特徵變數個數𝑛𝑛𝐹𝐹𝑃𝑃。定義最終特徵池的特徵個數後，將 ρ(𝛷𝛷𝑘𝑘)進行排序取前𝑛𝑛𝐹𝐹𝑃𝑃個特徵變數記入最終特徵池，這些最終特徵池內的特徵進 行還原即可作為機器學習的輸入使用。
