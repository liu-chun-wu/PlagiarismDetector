我們在實驗室中架設以下簡單的環境來模擬廣域網路（WAN），Client 與Server 安裝 Ubuntu 12.4，設定好相同網段的IP，使用VMware Player 的NAT 網路即可模擬L2 Switch 連接WANem、Client 與Server，如圖4-2 所示。 圖4-2 VMware 網路設定 資料來源：本研究 WANem 可以模擬任意兩台主機之間的廣域網路。為了達到此一目的，我利用圖4- 3 對此進行說明。兩台主機Client 與Server 在正常的情況下，封包直接通過L2 Switch 流 動，為了讓WANem 模擬廣域網路，Client 與Server 兩台主機必須新增路由，讓彼此網 路流量通過WANem。 圖4-3 實驗一網路架構 資料來源：本研究 以下為調整兩台Ubuntu 主機的路由表範例。 Server IP: 192.168.190.130 Client IP: 192.168.190.131 WANem IP: 192.168.190.131 (1) 於Server 執行此指令添加路由： $route add -host 192.168.190.131 netmask 0.0.0.0 gw 192.168.190.132 (2) 於Client 執行此指令添加路由： $ route add -host 192.168.190.130 netmask 0.0.0.0 gw 192.168.190.132 使用以下指令確認新的路由表運作正常。 (1) 在Client 中執行traceroute 指令，可以看到封包會先經過192.168.190.132 這個 WANem 節點。 $ traceroute 192.168.190.130 在Server 執行traceroute 指令，可以看到封包也會經過192.168.190.132 這個 WANem 節點。 $ traceroute 192.168.190.131 接下來確認WANem 是否運作正常。 (1) 使用Broswer 於網址列輸入http://192.168.190.132/WANem (2) 進入WANem GUI，選擇Basic Mode (3) 調整Delay time（ms）參數，輸入100，模擬網路延遲100ms (4) 按下〝Apply settings〞 圖4-4 WANem Basic Mode 資料來源：本研究 在Client 上ping Server IP 192.168.190.130，可以看到time（延遲時間）大於200ms。 Client 送出ICMP 封包，在通過WANem 的時候，增加了100ms 的延遲時間，Server 收到 封包後發送回覆封包，在通過WANem 的時候，又增加了100ms 的延遲時間，所以封包 來回的總延遲時間至少是200ms。 在Server 上ping Client IP 192.168.190.131，也會看到超過200ms 的延遲時間。實驗環 境建置至此，就算是大功告成了。接下來進行各項軟體的測試。
