將上一小節3.3(圖3)普通名詞(NA) 、及物動詞(VC) 、名詞(N)、動詞(V)、 連接詞(C)、副詞(ADV)、介係詞(P)、語助詞(T)、感嘆詞(I)等九種單一詞性或多 複合詞性的關鍵詞組詞庫語料集建立成各個詞性的Keywords.txt文檔，再將這些 關鍵詞庫語料集的Keywords.txt文檔利用自行開發Python程式開始進行客訴留言 本文的向量化，再透過機器學習研究方法送到模型裡做後續的應用。 本文向量化-自行開發Python程式碼範例： def FilterCSV(extension='.csv', folder='D:\\Thonny\\'): *本文客訴留言檔案路徑 strEncoding = 'UTF-16LE' #strEncoding = 'UTF-8' *文檔格式轉換 for r, d, f in os.walk(folder): kwfile = r + 'Keywords.txt' kwlist = [] if os.path.isfile(kwfile): with open(kwfile, 'r', encoding='UTF-16LE') as txtFile: reader = csv.reader(txtFile, delimiter=',', quotechar='"') for row in reader: 預測客訴問題分類模型：使用本文探勘技術於Google play 商店客訴留言 kwlist = row break print(kwlist) for file in f: if file.endswith(extension): if (re.search('out', file)): continue print(file) #outpath = r + file.split(".")[0] + "." + file.split(".")[-1] outpath = r + file + '.out.csv' inpath = r + file with open(outpath, 'w', encoding = strEncoding) as csvOutput: writer = csv.writer(csvOutput, delimiter=',', lineterminator='\n', quotechar='"') with open(inpath, 'r', encoding = strEncoding) as csvFile: reader = csv.reader(csvFile, delimiter=',', quotechar='"') firstRow = True for row in reader: strCollectPosN = [""] * len(strPosN) strCollectPosV = [""] * len(strPosV) numCollectPosN = [0] * len(strPosN) 預測客訴問題分類模型：使用本文探勘技術於Google play 商店客訴留言 numCollectPosV = [0] * len(strPosV) numCollectKW = [0] * len(kwlist) if (firstRow) : firstRow = False #col = ['POS'] #row.extend(col) row.extend(strPosN) row.extend(strPosV) row.extend(strPosN) row.extend(strPosV) row.extend(kwlist) writer.writerow(row) continue num = len(row) if (num < 12) : continue string = row[11] # android=11, iOS=3 if (len(string) > 2) :  #有字就處理, 可以改成 len(str)>2, 那就要三個字才會處理 string = removeSymbols(string) #WriteMatchedFeedback(r,row) 預測客訴問題分類模型：使用本文探勘技術於Google play 商店客訴留言 #print(str) doc = CkipDocument(raw=string) # Word Segmentation pipeline.get_ws(doc) # Part-of-Speech Tagging pipeline.get_pos(doc) #strpos = WsPosParagraph.to_text(doc.ws, oc.pos): #row.extend(strpos) #print(doc.pos) #(listws,listpos) = WsPosSentence.from_text(strpos) #print(listpos) # print(len(doc.ws[0])) #這一行在前一版要註解掉,不然會因為沒有Keywords 的txt 檔而出現異常,out of range for i in range(len(doc.ws)): for j in range(len(doc.ws[i])): foundMatch = False for k in range(len(strPosN)): if foundMatch: break 預測客訴問題分類模型：使用本文探勘技術於Google play 商店客訴留言 if doc.pos[i][j] == strPosN[k]: foundMatch = True if strCollectPosN[k] != '': strCollectPosN[k] += '/' strCollectPosN[k] += doc.ws[i][j] numCollectPosN[k] = 1  #TF計算出來後,填 回去跟POS 比對時,應應該不用累加,祇會剩0 跟1,那你把numCollectKW[k] +=1 改成numCollectKW[k] = 1 for k in range(len(strPosV)): if foundMatch: break if doc.pos[i][j] == strPosV[k]: foundMatch = True if strCollectPosV[k] != '': strCollectPosV[k] += '/' strCollectPosV[k] += doc.ws[i][j] numCollectPosV[k] = 1 #TF 計算出來後,填回去跟POS 比對時,應應該不用累加,祇會剩0 跟1,那你把 numCollectKW[k] +=1 改成numCollectKW[k] = 1 for k in range(len(kwlist)): if doc.ws[i][j] == kwlist[k]: print(doc.ws[i][j]) 預測客訴問題分類模型：使用本文探勘技術於Google play 商店客訴留言 print(kwlist[k]) numCollectKW[k] =1 #TF 計算出來後,填回去跟POS 比對時,應應該不用累加,祇會剩0 跟1,那你把 numCollectKW[k] +=1 改成numCollectKW[k] = 1 break row.extend(strCollectPosN) row.extend(strCollectPosV) row.extend(numCollectPosN) row.extend(numCollectPosV) row.extend(numCollectKW) writer.writerow(row) if __name__ == '__main__': FilterCSV('.csv', 'D:\\Thonny\\Input\\') 利用自行開發Python程式進行本文向量化樣本，如表6： 預測客訴問題分類模型：使用本文探勘技術於Google play 商店客訴留言 表 6  本文向量化示意圖 Device Review Text ID Review Text 功能 機車 地圖 手機 路線 模式 問題 道路 公路 程式 語音 軟體 "路況 建議導航路徑上也能像google 導航一樣顯示路況顏色，不要是單一的藍色" 「開發人員 回應： 您好,導航APP 有提供[即時路況]訂閱功能當即時路況功能開啟時,於地圖畫面右下方可 看到[紅綠燈]圖示[紅綠燈]功能開啟時,會顯示車子周邊道路的路況(紅色-塞車/綠色-順暢)謝 謝!」 我知道我也有訂閱即時路況功能，我指的是即使我顯示即時路況，原導航的路徑還是只 能是藍色，就是我看不出在導航導的路上，哪些路段會塞，會塞多長 ASUS_A007 $$$使用的是車用安卓主機$$$，離線導航不錯用，只是為何每次播報導航聲音時，音樂播放 APP 會直接被導航中止音樂播放，導航內建設定也無法設定音量衝突時自動減弱，還要重新啟 動音樂APP 才有辦法再播放音樂，導航只要播報一次，音樂就會被中止播放一次，太麻煩了 後來都直接用Google map 還比較方便 htc_a16ul (1) 路徑規劃最多有20 個點 希望能增加到50 以上 (2) 路境規劃上 比如 我已到達2 號點 但 因為導航認定我未到達 我已經要去3 號點 他確一直要帶我去2 號 這樣就失去規劃的意義了 希望當我往下一地點前進時 他會自行判別 (3) 希望能增加軌跡功能 讓開車者自行選擇走法 增加停靠點 並可儲存下來 傳給別人 下次要走此線時 能馬上行動不需在設定 (4)最後請問 我更換手機後加購項目是否得重新買過 還是只要商店帳號一樣就不會重複收費(5)我的最愛 裡有的地點 能用圖標顯示或顯眼顏色(6)加購項目的播報路名 希望可以增加我所設定中途點 中所設定名稱 預測客訴問題分類模型：使用本文探勘技術於Google play 商店客訴留言
