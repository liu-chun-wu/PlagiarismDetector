由Li Zhao 構想創造出長短期記憶結合注意力模型(Y. Wang et al., 2016) 可以在選擇不同觀點的情況下專注於評論語句的不同部分。以長短期記憶 模型為雛形，模型架構圖如圖 3.3 所示。N 為語句中單字的總數，w 為各單 字的詞向量，h 為長短期記憶模型在各個隱藏層的輸出向量。最後一個藏層 的輸出向量經過歸一化指數函數得出預測結果。長短期記憶模型的運算式 如公式(2)~(7)所示： 𝑖𝑡= 𝜎(𝑊𝑖𝑥𝑡+ 𝑈𝑖ℎ𝑡−1 + 𝑏𝑖) (2) 𝑓𝑡= 𝜎(𝑊𝑓𝑥𝑡+ 𝑈𝑓ℎ𝑡−1 + 𝑏𝑓) (3) 𝑜𝑡= 𝜎(𝑊𝑜𝑥𝑡+ 𝑈𝑜ℎ𝑡−1 + 𝑏𝑜) (4) 𝑔𝑡= 𝑡𝑎𝑛ℎ(𝑊𝑔𝑥𝑡+ 𝑈𝑔ℎ𝑡−1 + 𝑏𝑔) (5) 𝑐𝑡= 𝑓𝑡∙𝑐𝑡−1 + 𝑖𝑡∙𝑔𝑡 (6) ℎ𝑡= 𝑜𝑡∙tanh(𝑐𝑡) (7) 在上述公式中，it 表示時序t 時輸入閘的數值，ft 表示時序t 時遺忘閘的數 值，ot 表示時序t 時輸出閘的數值。Ct-1 表示上一個時序中記憶體內儲存的 內容。ct 表示當下記憶體儲存的內容。σ代表S 形函數。符號「·」表示矩 陣的逐項相乘。xt 為當前時序的輸入資料。ht-1 表示前一個時序中長短期記 憶模型的輸出。ht 表示當下長短期記憶模型的輸出。Wi、Wf、Wo 和Wg 為 輸入資料的轉換矩陣，Ui、Uf、Uo 和Ug 為長短期記憶模型的隱藏層輸出 資料的調整矩陣。bi、bf、bo 和bg 為運算數值時的偏差。 圖 3.3 長短期記憶模型架構圖(Y. Wang et al., 2016)
