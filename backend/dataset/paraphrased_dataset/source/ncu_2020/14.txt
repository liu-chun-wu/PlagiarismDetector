我們的目標為將stts box 內video sample delta 為0 的項目合併到臨近的sample 中，這 邊描述的合併是指將對應到該筆sample 對應到的stts box record 給移除。因為stts box 內 紀載的video sample 個數會和stsz box 內紀錄video sample 個數以及stsc box 中加總每個 chunk 內收容的video sample 個數和相同，故一旦因刪除stts box 內video sample delta 為0 的項目而導致sample 個數異動時，stsz box 和stsc box 也需跟著調整以符合各box 間紀錄 sample 個數資訊的一致性，另外stss box 內紀錄的是I-Frame 位於哪些video sample 中的 資訊也會因為video sample 的合併會導致也需要重新對I-Frame 對應到的video sample 重 新編製index。前述調整皆沒有更動到已收容的串流資料，只透過修改metadata 來達到等 價的moov 描述方式，會影響到的box 說明如下：  stsz box：配合stts box 內因sample delta 為0 而被刪除的sample record，會將該 sample 原對應到的stsz record 一併刪除，但刪除前會將該筆stsz record 對應到的 sample size 合併到鄰近的video sample 中。  stsc box：因為video sample 被合併了，所以video chunk 與video sample 間的數量 關係表格也需要調整。  stco box：video chunk offset 調整與否要看有無sample 被合併到鄰近的chunk 中。  stts box：需要刪除掉video sample delta 為0 的紀錄。  stss box：因為有video sample 被合併的關係，IDR 在所有video sample 中index 會跟著改變，故也需要一併調整。 本研究發現收容之攝影機基本上需要修正的態樣共有四種，每種狀況的處理方式皆 不相同，茲列舉如表 12，各種態樣對應的修正步驟將於4.1.1 到4.1.4 小節分別說明，後 續修正示意圖中灰底提示為對應到原stts box 內 delta time 為0 的video sample。 表 12 修正態樣整理 項目 需處理之狀況 處理方式 狀況一 欲合併目標在 同一 video chunk 內 合併的目標 在前 調整 stsz、stsc、stts、stss box 狀況二 合併的目標 在後 狀況三 欲合併目標在 不同video chunk 內 video chunk 不連續 狀況四 video chunk 連續 調整 stsz、stsc、stts、stss、stco box 資料來源：本研究
