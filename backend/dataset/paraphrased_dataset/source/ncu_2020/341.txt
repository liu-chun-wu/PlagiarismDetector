由於 9DoF SE-YOLO 作者對輸出張量進行擴增，因此定義了新增項 的損失函數。座標位置新增z 項，邊界框增加l 項，    yolo angle penalty L L L L .                             (3.5) ˆ ˆ ˆ 1 [( ) ( ) ( ) ] ˆ ˆ ˆ 1 [( ) ( ) ( ) ] ˆ 1 [ ln ] S B obj ij x x y y z z yolo coord i j S B obj ij w w coord h h l l i j S B obj ij ij ij coord i j ij noobj t t t t t t t t t t t t C C                            L ˆ [(1 )ln(1 )] ˆ [ ln ] S B noobj ij ij i j S B classes obj ij coord k k i j k C C c c             (3.6) - 30 - 加入四元數的損失函數，以均方誤差 (mean-square error, MSE) 來計算預 測值與實際 (ground truth) 的誤差， ˆ ˆ [( ) ( ) ˆ ˆ +( ) ( ) ]            S B obj quater ij i i i i angle i j i i i i q q q q q q q q L (3.7) 為了讓網路學習單位四元數的特性，借鑒 Pavllo et al. [36] 提出的懲罰損 失 (penalty loss)，參考單位四元數特性，加入一個旋轉四元數限制項的損 失函數，能以網路學習的方式，使旋轉四元數更具彈性地調整，在邊界框 在旋轉的迴歸上，可達到更好的效果， ˆ ˆ ˆ ˆ ( 1)          S B obj pty ij i i i i penalty i j q q q q L (3.8) 其中， pty：超參數，常數設為0.01。
