化 (max pooling) 後得出固定大小特徵。 圖 2.16. 有 SPP 層的網路架構。 - 19 - 而 RoI Pooling [12] 則是 Girshick 基於 SPP 所提出的，SPP 為多 尺度下進行最大池化，而RoI Pooling 則是將其簡化為單尺度。但無論是 SPP 或 RoI Pooling，在切割成nn 子區塊時，切割用的邊界若落在像素 上而非邊界時，會直接進行四捨五入找到最近整數邊界，如此會導致最後 在對特徵點採樣時會產生不小的誤差。因此後來 He et al. [26] 提出的 RoI Align 使用雙線性內插計算每個被分割出來的區塊裡採樣點的精確 數值，這解決了 SPP 和 RoI Pooling 方法所產生的誤差。RoI Align 的意 義如圖 2.17 所示，其中虛線是特徵圖，實線是一個 RoI，其中有2×2 bins， 每個 bin 內有4 個採樣點 (範例)，每一採樣點由鄰近的特徵圖點以雙線 性內插 (bilinear interpolation) 法估計出來。 圖 2.17. RoI Align 的範例。 另外，Dai et al. [25] 提出可變形的感興趣區域池化 (deformable RoI pooling)，對每個切割出來的子區塊加上了位置偏移量，使其能夠自適應 不同形狀物件的局部定位，如圖 2.18 所示。 - 20 - 圖 2.18. 可變型的感興趣區域池化。 由於一階段偵測網路並沒有如 He et al. 提出的 RoI Align [26] 相關 操作，在沒有提取出物件的完整特徵資訊下，一階段偵測網路最終輸出的 結果就會相較二階段網路來的不好，所以Chen et al. [23] 提出了 AlignDet 試圖使減小一階段網路與二階段網路間的差異。其整體架構是以FPN [30] 為網路骨幹搭配作者提出的密集候選框模組 (dense proposal model, DPM) 與對齊偵測模組 (align detection model, ADM) 兩個模組，如圖 2.19 所示。 密集候選框模組會先由骨幹網路所提供的特徵作為輸入迴歸出第一次的 結果，並以迴歸出的結果調整每個特徵圖網格的錨框 (anchor)，調整後的 錨框為學習到的錨框 (learned anchor)，作者將學習到的錨框當作候選框 (proposal)。而後將候選框搭配骨幹網路所提供的特徵以可變形卷積 [25] 的特殊型，感興趣區塊卷積，來對每個候選框進行個別卷積；而在做感興 趣區塊卷積的同時也會藉著可變形卷積的操作同時完成 RoI Align。 - 21 - 圖 2.19. DPM 與 ADM 之架構。 - 22 - 第三章 9DoF 網路架構修改 在本章中，我們將介紹 9DoF SE-YOLO 的網路架構，並介紹對該網 路架構的修改。我們去掉 9DoF SE-YOLO 骨幹架構中的壓縮與激發 (squeeze-and-excitation, SE) 模組，並引入對齊偵測模組 (align detection module, ADM) [23]，來使本系統能對預訂的錨框個別進行大小及位置的 調整；並且如二階段網路，有對框內特徵進行感興趣區域對齊 (RoI Alignment, RoIAlign) 的相似能力，因此能強化本系統的特徵對齊能力。 此外加入原始深度資料特徵提取分支，來協助高階特徵得到更豐富的空 間資訊。 在第一節中，我們將介紹 9DoF SE-YOLO 的網路架構，及其預測與 辨識物件的方法；第二節介紹對齊偵測模組；第三節介紹深度資料特徵提 取分支。
