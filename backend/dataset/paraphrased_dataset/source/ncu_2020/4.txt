H.264 是一個音訊、視訊壓縮編碼的標準，它又可稱為AVC（進階視訊編碼），主要 用在一些網路上的影音串流、傳送或是廣播，我們常見到的像是YouTube、iTunes、Flash 都有使用這個標準，它的一個特色是可以用很低的傳輸速率來傳送很好的畫質。 （Wikipedia(a), n. d.） 以影像監控服務主題，主要的TCP/IP 階層架構分別在網路層（Internet Layer）、傳輸 層（Transport Layer）和應用層（Application Layer），在網路層是通過網際網路來做應用 所以使用IP（網際網路協定），傳輸層則使用到TCP（傳輸控制協定）和UDP（使用者 資料包協定）來分別做不同資料訊號的傳輸協定，而應用層會使用到RTSP（Real-Time Streaming Protocol）、RTP（Real-Time Transport Protocol）、RTCP（Real-Time Transport Control Protocol）這幾個協定。（Wikipedia(c), n. d.） 在應用層所使用的RTSP 協定會在傳輸層的TCP 協定上運行，主要用來傳輸影像監 控服務的控制訊號。而在應用層使用的RTP 和RTCP，則會在傳輸層透過UDP 協定來做 音訊及視訊的壓縮封包傳輸。上述兩者最後再透過IP 協定來封裝後往下一階層傳遞封 包。RTSP（Real Time Streaming Protocol），中文叫做實時串流傳輸協定，它是屬於TCP/IP 中應用層的協定，定義我們如何通過網際網路來傳送多媒體的數據，及控制伺服器、視 訊監控設備之訊號。很常被用在娛樂和通訊系統中。其中，RTSP 它使用位於傳輸層的 TCP 協定來做對設備的控制，像是我們在用戶端會發出的控制命令如暫停、播放、設定、 確認等等功能。另外，RTP 則可使用TCP/UDP 協定來做為對於音訊和視訊（端點對端 點）媒體數據流傳輸的封裝標準。以伺服器端和用戶端來做雲端影像監控服務系統的訊 號流程說明，伺服器端使用RTSP 當作應用層的協定可以與一樣使用RTSP 協定的用戶 端電腦溝通，其用戶端應用層使用RTSP 協定來封裝要傳給伺服器端的控制訊號，並在 傳輸層以TCP 協定標準來封裝傳送，達成控制訊號的相互傳遞。另外針對音訊及視訊的 部分，則會有另外一段串流過程，舉例當伺服器收到播放某段影像的指令之後，於資料 存放處將影片取出後，於應用層使用RTP 協定封裝影像後傳到傳輸層使用TCP/UDP 協 定進一步封裝封包，再繼續往下傳輸。（Wikipedia(c), n. d.） 圖 3 協定堆疊示意 資料來源：本研究 圖 3 可以解釋為視訊串流以H.264 的壓縮編碼標準來做壓縮時，會以應用層的RTP 協定來做封裝，傳輸層再以TCP/UDP 協定來對應用層以上資料封裝，網路層以IP（網 際網路協定）來對傳輸層以上資料做封裝，最後再往實體層進一步傳送。（Technologyuk, n.d.） RTP（Real-time Transport Protocol）稱為即時傳輸協定，是屬於應用層的協定，它定 義傳輸音頻和視頻的數據封包格式，它走在TCP 或UDP 這個傳輸層協定上面。通常執 行時會配合RTCP 一起使用，RTCP（Real-time Transport Control Protocol）稱為即時傳輸 控制協定，RTCP 可以做媒體串流的傳輸品質統計和管控，尤其在很多資料一起傳輸的 時候，可以實現控制、分流傳輸的速率，讓媒體流可以同步傳輸。（程式前沿，2018） TCP 與UDP 協定為傳輸層的協定，他們之間的差異為TCP 與UDP 協定的運作行為 不同，UDP 是未經過與對方的連線，便直接將資料傳送出去，傳送過程也不經過與對方 確認是否收到。反之，TCP 是一個完整的協定，也就是會經過「建立連線」、「資料傳輸」 與最後的「關閉連線」三個階段，除此之外TCP 有較好的資料可靠性如「確認」 （Acknowledge）與「重送」（Retransmission），以及流量控制的傳輸機制。（Geeksforgeeks, 2021）針對TCP 與UDP 協定之比較如表 1。 IP TCP/UDP RTP NALU H.264 表 1 TCP 與UDP 協定比較 傳輸控制協定 （TCP） 使用者資料報協定 （UDP） 協定特性 連線導向：經過建立連線、資 料傳輸、與最後的關閉連線三 個階段；並且資料封包需要在 建立連線後才可開始傳送 非連線導向性：不須經 過連線建立即可開始傳 送或接收資料封包 資料安全 封包抵達->檢查錯誤與回報 封包遺失->重送 封包抵達->檢查錯誤 封包遺失->忽略 資料傳送 慢 快 資料來源：本研究
