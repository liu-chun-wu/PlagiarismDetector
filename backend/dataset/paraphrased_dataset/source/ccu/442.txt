局部二值模式 (Local Binary Pattern, LBP) (Ojala, Pietikainen, & Maenpaa, 2002) (Guoying & Pietikainen, 2007) 是一種用來描述圖像局部紋理特徵的算子；它具有旋轉 不變性和灰度不變性等顯著的優點。它是首先由Ojala, Pietikäinen 和 Harwood 在1994 年提出 (Ojala, Pietikainen, & Harwood, 1994)，用於局部紋理特徵提取。 LBP 最初定義在3 × 3 像素塊中，以8 鄰域為例，將其中心像素點值作為閾值， 與周圍8 個像素點值做比較，如果周圍鄰域像素點值大於等於閾值，則該鄰域像素點 位置就記為1，否則記為0。然後將閾值化後的值分別與對應位置像素的權重相乘再 相加計算的值即為LBP 值，如圖3.11 所示。其計算公式如下: LBP (x, y) = ∑𝑠 (𝑖𝑛−𝑖𝑐)2𝑛 𝑛=0 ,   s (x) = {1, 𝑥≥0 0, 𝑥< 0          (3.1) 多特徵自動化表情辨識系統 圖3.11 LBP 計算流程 (資料來源：本研究整理之) 為了有效地表示整張人臉影像中細微紋理的組成，本研究根據 (Zhong et al., 2012) 採取區塊式方法建構區域紋理特徵，即區塊式局部二值模式 (Block-based Local Binary Pattern, B-LBP)。所謂區塊式特徵 (Happy & Routray, 2015) 的萃取與建構是先 將人臉影像分割成固定大小且不重疊的子區塊，針對每個子區塊進行LBP 特徵的計 算與相關直方圖的建構，最後將全部子區塊的直方圖串接在一起，形成單一且代表該 張臉部表情影像的特徵直方圖，如公式3.2 所示。因此每張圖像擷取19 個子區塊， 如圖3.12 所示，其中B1 和B4 透過唇角特徵點擷取，B9 和B11 在其相對位置，B10 再取其中心點；B2 和B5 透過鼻子特徵點擷取，B7,B8,B12,B13 在其相對位置；B18 和B19 透過眉毛內角特徵點擷取。B16 位於雙眼特徵點間的中心，B17 則位於其上 面。B14 和B15 位於眼睛特徵點的下方。B3 和B6 的位置取眼睛與鼻子特徵點間的 中心。最後這些子區塊採用LBP 模式的統計直方圖，而每張圖像總共會獲得4864 維 特徵，再透過PCA 降維後輸入到SVM 分類器。 𝐻𝑖= ∑ 𝐼 {LBP (x, y) = 𝑖} 𝑥,𝑦 ,    𝑖= 0,1, … , 𝑛−1           (3.2) 多特徵自動化表情辨識系統 圖3.12 子區塊位置 (資料來源：本研究整理之)
