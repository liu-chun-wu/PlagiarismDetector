區域敏感雜湊之用處已在文獻探討章節有提到，是一種針對大量資料快速找到 相似對的方法。而區域敏感雜湊有諸多實現函數，其中針對文件檔案的實現是最小 雜湊(MinHash)。 本研究之系統套用LSH 流程如下： 1. 將全部文件中的空格與斷行以”,”替換並刪除非a-z 字元 2. 將全部文件中的大寫字母替換成小寫字母 3. 將全部文件根據”,”向量化並以單一矩陣表示 4. 針對前一步驟之矩陣套用MinHash 產出雜湊表格 5. 針對前一步驟產出的雜湊表格套用Banding MinHash 是透過隨機方法來模擬重新排列組合元素在矩陣中的列位置，再利用 最先出現的元素來計算文件間的相似度。在套用MinHash 前我們必須先將文件集向 量化為單一矩陣來表示。假設現在有四個文件：S1={0,3}0, S2={2}, S3={1,3,4}, S4={0,2,3}，我們將其轉換成單一矩陣表示，如下表所示： 表 3  單一矩陣表示法 S1 S2 S3 S4 資料來源：本研究整理 單一矩陣表示法：矩陣中有1 的位置表示該文件有此元素。例如根據上圖可知 S1 於0 與3 的位置為1，表示S1 有0 與3 的這兩個文字元素。 接著，套用MinHash 步驟如下： 大規模及移動性對等式無線網路之可信賴檔案檢索系統 1). 建構h 個MinHash，h 視情況而定，在本研究中將會依文件數來決定h 的 大小。並且針對上表的每一列進行計算，函數公式如下： ℎ(𝑥) = (𝑎𝑥+ 𝑏) 𝑚𝑜𝑑 𝑝 假設建構2 個MinHash 如下： ℎ1(𝑥) = (𝑥+ 1) 𝑚𝑜𝑑 5 ℎ2(x) = (3𝑥+ 1) 𝑚𝑜𝑑 5 2). 透過上述兩個函數套用上表過程如下： 表 4  套用MinHash 過程一 S1 S2 S3 S4 h1 -1 -1 -1 -1 h2 -1 -1 -1 -1 資料來源：本研究整理 初始值均為-1。 表 5  套用MinHash 過程二 S1 S2 S3 S4 h1 -1 -1 h2 -1 -1 資料來源：本研究整理 先對第一列有1 的欄位做MinHash，x 則帶入列值。因此h1(0)與h２(0)均為 1，則S1 與S4 於h1 與h２的值均替換成1。 大規模及移動性對等式無線網路之可信賴檔案檢索系統 表 6  套用MinHash 過程三 S1 S2 S3 S4 h1 -1 h2 -1 資料來源：本研究整理 再來對第二列有1 的欄位做MinHash，因此h1(1)=2、h２(1)=4，則S3 於h1 的值替換成2、於h２的值替換成4。 表 7  套用MinHash 過程四 S1 S2 S3 S4 h1 h2 資料來源：本研究整理 接著對第三列有1 的欄位做MinHash，因此h1(2)=3、h２(2)=2，則S2 於h1 的值替換成3、於h２的值替換成2。 表 8  套用MinHash 過程五 S1 S2 S3 S4 h1 h2 資料來源：本研究整理 一樣接著對第四列有1 的欄位做MinHash，因此h1(3)=4、h２(3)=0，此時可 以注意到，表中於h1 的值均小於4，因此不替換任何值。而S1、S3 與S4 於h２的值均大於0，因次均替換成0。 大規模及移動性對等式無線網路之可信賴檔案檢索系統 表 9  套用MinHash 過程六 S1 S2 S3 S4 h1 h2 資料來源：本研究整理 最後對第五列有1 的欄位做MinHash，因此h1(4)=0、h２(4)=3，此時一樣可 以注意到，表中於h2 的值均小於3，因此不替換任何值。而S3 於h1 的值 大於0，因次均替換成0。做到最後這邊就是MinHash 後的結果矩陣。 接下來就可以利用MinHash 後的結果矩陣透過Banding 技術來快速找相似對， 步驟如下： 1). 設定門檻T，T 主要用來判斷兩個檔案是否可以被歸為相似的一對。接著選 擇變數b 與r，代表著矩陣共有b 個區段，且每個區段有r 列。此外T、r、 b 還須滿足以下條件。  br = n(n 為排列的數量)  門檻T = ( 𝑏) 𝑟 2). 每個區段包含一些MinHash 的結果值，也就是向量r，將向量r 映射到空間 中，相似度越高，越容易被映射到相同的位置上。
