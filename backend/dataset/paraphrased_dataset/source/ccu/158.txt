圖 十一 初始化流程 資料來源：本研究整理 應用於混合式無線網路之信用檢索系統 網路初始化首先須設定網路範圍與區域分割，整個網路範圍為100*100，每個 區域範圍為10*10，整個網路均分成100 個區域。每個區域會給予編號，編號的格 式為[row , column]，row 與column 的數值範圍為0 到9。例如編號格式為[1 , 9]代表 是座標x 軸範圍為10 到19，y 軸範圍為90 到99 的區域。在網路中是第二列第十行 的區域。 每個區域只有一個BS 節點，BS 節點設定位於每個區域中心點。例如區域[1 , 9] 的BS 節點座標為[15,95]。BS 節點不會移動，永遠在線並且是可靠的節點。會儲存 區域內節點名單，偵測範圍為15。 一般節點依照實驗需求分散於網路中，節點初始RV 為0.8，節點初始CV 為 50，CV 上限為1000。節點依照行為模式分為合作節點、自私節點和狡猾節點。。 節點移動速度不一，比例如下：  40%節點移動0(固定節點)  30%節點移動1  30%節點移動2 圖 十二 網路分布示意圖(非完整網路) 資料來源：本研究整理 應用於混合式無線網路之信用檢索系統 本研究檔案皆為文檔，檔案以MinHash 技術中的LSH(Locality Sensitive Hash)方 法進行分群。假設現在有四篇文檔：S1={I, an}; S2={eat}; S3={He , an , apple}; S4={I , eat , an}。分群過程如下： 1. 將文件轉成0 和1 的矩陣表示，如下圖： 元素 S1 S2 S3 S4 I He eat an apple 表格 5 LSH 步驟一 資料來源：本研究整理 2. 建構轉換函數 ℎ(𝑥) = (𝑎𝑥+ 𝑏) 𝑚𝑜𝑑 𝑝  p:最接近文件數量的質數  a:任意整數 0 <𝑎<𝑝  b:任意整數 0<=b<=𝑝 轉換函數數量依實驗內容決定。假設現在建構兩個轉換函數： ℎ1(𝑥) = (𝑥+ 1) 𝑚𝑜𝑑 5 ℎ2(x) = (3𝑥+ 1) 𝑚𝑜𝑑 5 應用於混合式無線網路之信用檢索系統 3. 將0 到4(元素數量-1)依序代入ℎ1(𝑥)和ℎ2(x)，如下圖： row ℎ1(𝑥) ℎ2(x) 表格 6 LSH 步驟三 資料來源：本研究整理 4. 建立signature matrix S1 S2 S3 S4 ℎ1(𝑥) ∞ ∞ ∞ ∞ ℎ2(x) ∞ ∞ ∞ ∞ 表格 7 LSH 步驟四(1) 資料來源：本研究整理 比對表格6 和表格7，若該文件有此元素(顯示為1)，且h(x)小於signature matrix 中 的數值的話，則以h(x) 數值代替，作為它的signature。最後結果如下： S1 S2 S3 S4 ℎ1(𝑥) ℎ2(x) 表格 8 LSH 步驟四(2) 資料來源：本研究整理 應用於混合式無線網路之信用檢索系統 5. LSH 將會有n 個轉換函數，並分成b 個band 每個band 有r 行。n = b x r 如下圖所示： S1 S2 S3 S4 band1 band2 表格 9 LSH 步驟五 資料來源：本研究整理 把一個band 中，相同的數值的文件放至同一個bucket。若兩個文件被分配至同 一個bucket 次數超過設定值即為相似文件。如表10 所示可以看到S1 與S4 兩個 band 都會被分配至同一個bucket 中，所以可以推測S1 與S4 是相似的文件。 在文件分群完後，指派網路中各個區域儲存不同群的文件的Metadata。源節點 依照3.2.2 的方法將Metadata 傳送至指定區域儲存。 應用於混合式無線網路之信用檢索系統
