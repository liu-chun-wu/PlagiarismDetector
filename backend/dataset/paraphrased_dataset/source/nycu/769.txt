2.1.1 YOLOv2 偵測流程 在介紹YOLOv2 之前，首先觀察YOLOv1 與YOLOv2 簡化後的網路架構圖（圖2- 1 及圖2-2 所示），可知兩者網架構基本雷同，而這其實都是為了實現YOLO 系列架構 獨特的偵測流程，而接下來將以YOLOv2 為例，說明此種架構的設計概念及方法。 圖2-1 簡化後的YOLOv1 網路架構圖，左側為輸入影像，右側為輸出之特徵圖(Feature Map) 圖2-2 簡化後的YOLOv2 網路架構圖，左側為輸入影像，右側為輸出之特徵圖(Feature Map) 由圖2-2 可見，YOLOv2 的網路輸入為416 × 416 × 3的RGB 影像，輸出為13 × 13 × 125的特徵圖，其具體意義其實同圖2-3 的(a)到(b)。此架構先將影像切割成13 × 13的網 格(Cell)處理，每個網格會預測5 個候選框，而每個候選框需要用25 個參數表達資訊， 分別為𝑥, 𝑦, 𝑤, ℎ, 𝑐𝑜𝑛𝑓𝑖𝑑𝑒𝑛𝑐𝑒, 𝑐𝑙𝑎𝑠𝑠1, ⋯, 𝑐𝑙𝑎𝑠𝑠20，其中𝑥, 𝑦, 𝑤, ℎ 代表所預測出的候選框 中心位置及寬與高；𝑐𝑜𝑛𝑓𝑖𝑑𝑒𝑛𝑐𝑒表示此候選框是否為物件的信心程度；最後 𝑐𝑙𝑎𝑠𝑠1, ⋯𝑐𝑙𝑎𝑠𝑠20表示物體為該分類的機率（共20 類）。因為每個網格共會預測5 個候 選框，且每個候選框需要25 個參數表達資訊，所以每個網格共需要5 × 25 = 125個值來 詮釋候選框的資訊，故輸出層設計為13 × 13 × 125。另一方面，在圖2-3(b)則可見到大 量候選框，這是由於每個網格都會預測5 個候選框，故總共可預測13 × 13 × 5 = 845個 候選框；圖2-3(c)則為最終偵測結果，是經由過濾信心程度較低及重複的候選框而得。 綜合上述，YOLOv2 的輸入輸出層設計是為了實現圖2-3 的偵測流程，而YOLO 系列大 致皆符此偵測流程，其中YOLOv1 是先切成7 × 7，YOLOv2 是先切成13 × 13，YOLOv3 的切法則稍微不同，在2.2 節再一起說明，下一節2.1.2 則將針對YOLOv2 的網路架構 做進一步介紹。 (a) (b) (c) 圖2-3 YOLOv2 偵測流程示意圖 [11] 2.1.2 YOLOv2 網路架構簡介 YOLOv2 網路架構可簡單分為特徵提取器(Feature Extractor)及偵測層(Detection Lay- ers)兩個部分，如圖2-4 中黃框及藍框所示，可以注意到圖中有條線由特徵提取器拉到偵 測層的「+」位置，這條線稱為跳過連接(Skip Connection)或穿過層(Passthrough Layer)， 作用是為了使物件偵測時能有包含更多細節的特徵，由於特徵提取時的最大池化層(Max Pooling)是用來減量採樣(Downsampling)，不斷地減量採樣將使細膩的特徵漸漸消失，因 此藉由跳過連接則可使原來更細膩的特徵得以保留，「+」就是用來串連(Concatenate)來 自上一層的特徵和來自更上層的細膩特徵。 在此其實不難聯想，僅僅一個跳過連接是否就足以保留足夠細節的特徵？事實上 YOLOv2 雖然偵測速度頗快且也不失精準，但在小物體的偵測表現卻不盡理想，其中最 大的原因就在於提取到的特徵已丟失許多細節，而YOLOv3 的改動方向也與此相關，下 一節將會一併說明。 圖2-4 YOLOv2 結構示意圖 (Source: Retrieved June 18, 2018, from https://zhuanlan.zhihu.com/p/35325884)
