由公式( 1 )中的文章情緒公式可得知，情緒語句的加總代表文章整體的情緒， 且同時一個情緒語句必須具有情緒詞彙，例如<opt>、<opt2>、<pes>、<pes2>等相關 標籤才具備情緒語句的條件。 故情緒指數的計算步驟： 1. 將文章中具有情緒詞彙的語句篩選出來 2. 一個語句中可能具有多個情緒轉折(情緒詞彙)，故一個情緒詞彙結尾代 表一個情緒，多個情緒詞彙結尾代表多個情緒，多個情緒加總代表該語 句的情緒指數。 語句情緒指數= ∑ 情緒指數 𝑘 𝑖=1 𝑘 ，其中𝑘為該語句中情緒的總數 以上述例子為例： 央行對於(<exc>美元</exc>強勢<opt>升值</opt>)恐對台股後市(<opt> 漲勢</opt>)(<neg>不</neg>慎<opt>樂觀</opt>)，該語句包含3 個情緒 (以情緒詞彙結束)，其中， 第一個情緒：<exc>美元</exc>強勢<opt>升值</opt>：-1*(+1) = -1 第二個情緒：(<opt>漲勢</opt>)：+1 第三個情緒：(<neg>不</neg>慎<opt>樂觀</opt>)：-1*(+1) = -1 故該語句其情緒指數為((-1)+1+(-1))/3 = - 0.333… 3. 將語句情緒指數加總取平均，即為該篇文章之情緒指數。 文章情緒指數= ∑ 語句情緒指數 𝑘 𝑖=1 𝑘 ，其中𝑘為該文章中情緒語句總數 4. 當日所有文章情緒指數的加總平均，即為當日之市場氛圍情緒指標。 當日情緒指標= ∑ 文章情緒指標 𝑘 𝑖=1 k ，其中𝑘為當日所有新聞總數 圖 10 情緒模組示意圖 資料來源：本研究整理 3.5 驗證情緒語句的一致性 本研究主要透過情緒語句標籤標註方式計算出文章之情感走向(樂觀、中立、悲 觀)，為了解其標註是否具有一致性，故透過NativeBayes 與LSTM 兩種不同分類方法 去進行驗測。其中，NativeBayes 是透過條件機率方式進行分類，而LSTM 透過語意深 度學習去進行分類，主要是以accuracy、precision、recall、f1 等指標去進行評 估。若評估結果分類錯誤率高，代表本研究透過情緒模組進行情緒評分方式可能有改 進空間，反之，則代表其一致性高，其分類結果準確性也較高。 資料蒐集及處理步驟如下： 1. 擷取出所有具有情緒標籤及計算出分數之情緒語句，參照3.4.3 舉例如 下，”央行對於<exc>美元</exc>強勢<opt>升值</opt>恐對台股後市 <opt>漲勢</opt><neg>不</neg>慎<opt>樂觀</opt>,-0.333”(情緒語 句,情緒分數) 1. 文章標籤註記 2. 情緒語句擷取 3. 情緒指標量化 情緒模組 文章輸入 情緒指標輸出 2. 將情緒語句之情緒標籤去除，將情緒分數>0，標註為1，情緒分數<0，標 註為0 (分類分法一般屬於二元分類，故省略情緒分數=0 之語句) 3. 將處理好之情緒語句透過CKIP 斷詞系統進行斷詞，並做onehot- encoding 將詞彙進行數值化。(以上為資料前處理的部分，同時也將具有 情感導向之資料集準備完成)
