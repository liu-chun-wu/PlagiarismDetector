經過Sobel 邊緣偵測後，依照邊緣線條與主題遮罩庫中的圖作積分運算，線 條有經過遮罩區塊的積分加1，有經過紅色圓框的加3，最後選取積分最高的主 題遮罩，演算過程請參考圖3- 23 至圖3- 25。 圖3- 23 計算特徵積分 積分：42 積分：34 積分：35 積分：38 積分：34 積分：33 我們利用邊緣線條與主題遮罩重疊部分最多的方式來找出最適合的主題遮 罩，計算表達示如下： S = ∑ (𝐴𝑖⊕𝐵𝑖) + 𝐹𝑖 𝑛 i=1 (4) S 為運算結果積分，A 為嵌入圖像的邊緣偵測結果，B 為主題遮罩，n 為主 題遮罩數量，F 為主題特徵加權，以下就戰鬥機為嵌入圖像來作說明，它的圖 像的邊緣偵測的結果如圖3- 24(a)，主題遮罩如圖3- 24(b)，白色像素為0，黑色 像素為1，找出圖3- 24(b)為黑的區域，再相對位置與圖3- 24(a)作互斥或運算， 運算結果為1 即代表邊緣有通過。 (a)                                           (b) 圖3- 24 (a)與(b)作XOR 運算 最後的計算結果請參考圖3- 25，邊界共經過33 個QR code 區塊(標紅色)， 紅色圓框為額外加3 積分，故總積分為33+3x3=42。 圖3- 25 飛機遮罩演算結果 第4章 實驗設計與結果分析
