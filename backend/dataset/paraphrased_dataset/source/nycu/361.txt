本節進行3.4.2 提及的online 蒐集困難負樣本的實驗。Online 蒐集的方法 與offline 差別在於，online 方法會根據當前資料訓練模型並進行下一幀的負樣 本採集。本文online 訓練的設置為： 1. 7 段影片皆使用，依次訓練。 2. 每一幀進行相同的非監督式正樣本蒐集，長度為3。而負樣本選擇為當前幀 圖4-2 追蹤序列3 與10 訓練之行人重識別模型ROC 曲線 中，與當前偵測框特徵距離最遠的偵測框。 3. 每一幀處理完後，如果有蒐集到訓練資料，即以批次大小為16 來訓練模 型，更新其參數。 採用此方法理想上是希望藉由每一步皆選擇最困難的負樣本來強化模型對負 樣本區別的能力。然而由圖4-3（其比較對象為長度為3 的offline 訓練模型） 的結果來看，這種訓練方式訓練出的模型的行人重識別能力低落。一般來說， 在行人重識別或是人臉分辨任務中，可選擇的圖片並非侷限在少量資料中，而 是整個資料集。但套用到本文的非監督式方法，可選擇的圖片依影片不同，最 少只有1 個，最多也僅有50 多個。且是依影片次序訓練，但每一段影片的特性 差異極大，若以一小步一小步蒐集資料並更新權重，僅能找到對於那一批次的 資料較佳的區域最佳解。而offline 方法則是一次蒐集完所有資料，並把資料打 散進行訓練，能找到對所有影片的區域最佳解。 圖4-3 online/offline 訓練之行人重識別模型ROC 曲線
