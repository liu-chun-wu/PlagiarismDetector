本研究採用多項 用照片中的EXIF 的資 Sentence Data Base， 後組合成一段情感描 本研究主要將旅 景點、地點、人物」 片拍攝日期」資訊， 狀況，以及根據天空 景點類別是負責分析 旅遊照片會是跟地標 加了解，描述語句內 責分析拍照者是在哪 是分析旅遊照片是否 需要利用人臉比對 三、研究方法 Module Control Flow 項現有的深度學習技術，搭配自己訓練的C 的資訊，最後使用自己所設計的情感語句資 ，以下稱ESDB），將預測出來的結果，轉 描述文字，主要分析架構如下（如圖25） 圖25、旅行照分析架構 （本研究製作） 旅遊照片，切分成四大類別去作個別分析 」類別，以及將旅遊照片EXIF 中的「GPS ，當作輔助分析。其中，天空類別是負責分 空顏色和照片拍攝日期，來了解這張照片是 析旅遊照片是否有著名的地標場景，其原因 標一起拍照，若能將地標分析出來，不但能 內容能更準確，還可以描述出更有情感的句 哪個位置所拍攝的，例如街道、草地、河邊 否有人？照片是否有自己或是很多人？其中 （Face Comparison）技術，來比對照片中 CNN 模型，以及利 資料庫（Emotional 轉換成情感語句，最 。 ，分別是：「天空、 S 定位信號」和「照 分析旅遊照片的天氣 是白天還是晚上拍的； 因是因為有一部份的 能夠對這張旅遊照更 句子；地點類別是負 邊…等；人物類別則 中，照片是否有自己 ，許多頭像位置，哪 個頭像位置屬於自己的，另外，再利用人物性別（Gender）和臉部表情（Emotion） 技術，判斷自己的頭像的性別和表情，來知道照片中的自己當下的情緒反應是如 何，根據臉部表情分析結果，會決定描述情感語句的走向，例如臉部表情如果是 開心的，就會用開心的方式描述情感語句；若是悲傷的，就會用悲傷的方式描述。 EXIF 其主要功能是提供有關數位相機拍攝資訊的內容，和索引圖或圖像處 理軟體的版本資訊，而其內容是可以被編輯的，所以裡面的資訊有可能是錯誤的， 但是如果是從相機或手機裡直接拍攝出來，再從照片中提取資訊，竄改的機率基 本上就不太可能，本研究是希望能夠透過這樣的方式取得照片，而不是從網站上 找尋照片，若取得照片的來源是固定的話，取到的EXIF 資訊基本上不會有太大 問題。 GPS 定位現在是手機和相機的標準配備，其定位的位置也非常準確，若有效 取得照片裡面的位置訊息的話，就可以了解照片的所在位置，若照片有透過景點 分類預測出地標，GPS 就可以輔助此地標是否為正確，更可以利用GPS 找出附近 週圍著名的景點，來提升描述語句的豐富性，可以幫助拍照者找回記憶，下次再 造訪相同地方旅遊的時候，提供更多景點資訊，幫助增加更多旅遊記憶拼圖。 拍攝時間基本上用電腦開啟照片檔案內容，就能清楚的看到時間訊息，不像 GPS 是一串數字，還需要透過第三方軟件或是網頁搜尋才能得知其位置，話雖如 此，但是如果能夠在描述文字後面，提供拍攝時間描述的話，就能更加清楚你拍 照的時間了，若能在增加豐富的結尾語句，不僅可以加深你的記憶，而且當作一 段情感文字結尾描述，是最好不過了。 本研究所使用的環境Window 10 X64 教育版，CPU 處理器為Intel Celeron CPU G3930 2.90GHz，記憶體為16GB DDR4 的桌上型電腦，顯示卡使用NVIDIA GeForce GTX1060 6GB，程式環境為python3.6.7、tensorflow-gpu1.4.0、keras2.1.5。 本研究將架構命 述，以下稱TPER） 段逐一來說明。 TPER 控制流程在 開始input 端輸入一張 並將影像切分成四大 （Landmark）、地方 用CNN 模型預測； 來的S1~S4，會透過 訊息，組合成一段旅 每個架構的細節。 input 命名為「TPER（Travel Photo Emotional Re Module Control Flow」，講解方式使用流程 圖26、TPER Module Control Flow （本研究製作） 程在這節大致簡單說明一下，程式運行流程由 張影像後，透過ADE20K [9]作場景解析 大類：「人物（Character）、天空（Sky） 方（Location）」，去作個別分析，其中人 地標類別使用Microsoft AZURE 雲端服務預 過ESDB 轉換成情感文字，最後搭配影像E 旅照情感描述作為output 端輸出。下節開始 view，旅遊照情感描 程圖（如圖26）分 程由左至右運行，一 （Scene Parsing）， 、地標 人物和天空類別，使 務預測，個別預測出 EXIF 的GPS 和TS 始會逐一說明流程圖 output
