分類至天空類別的圖像，會進行天氣變化分析預測，來了解旅遊照的天氣狀 況，天氣狀況其實有很多種，有晴天、多雲、下雨、下雪、多霧、陰天、傍晚… 等，但很多情況會是很類似的，例如多雲和多霧，下雨和陰天，若以這樣的天氣 狀況做為分類，所收集的圖像就會很類似，預測出來的結果準確率一定不高，所 以必須要找有鑑別性的天氣狀況。 此模型主要預測四種天氣狀況，分別是「晴天（Sunny）、陰天（Cloudy）、 傍晚（Dusk）、晚上（Dark）」，晴天顏色通常為藍色；陰天顏色通常為白灰色； 傍晚顏色通常為黃色；晚上顏色通常為黑色，彼此的鑑別度很高。其中傍晚天氣 預測，可搭配EXIF 的照片拍攝日期，來判讀這個傍晚是屬於早上的曙光，還是 下午的黃昏，因為這兩種的天空狀況是類似的，若直接透過深度學習預測，所預 測的結果準確率會不高；而晴天和陰天天氣預測，直接用來反應旅遊照的天氣狀 況，所描述的情感文字會不相同；晚上的天氣預測，除了判斷旅遊照是晚上所拍 的，也可以用來作為旅遊一天的結束，敘述一段旅遊結束的情感語句。 本研究透過自己撰寫圖片爬蟲程式，從各大免費圖庫蒐集天空圖片（搜狗、 Google 圖片），加上使用自己所拍攝的天氣影片，將影片中的影格，轉換成一張 張的jpeg 圖檔，一共蒐集了4000 張天空圖像，其中，晴天、陰天、傍晚和晚上 各1000 張（如圖32）。 圖32、爬蟲程式-圖片下載器 （本研究製作） 深度學習模型使用自行設計的CNN 模型，輸入端為160x160x3 的圖像大小， 深度為三層卷積層，使用relu 激勵函數，每層中間加入Dropout23 25%機制，輸出 端使用softmax 激勵函數做為0 或1 的輸出，維度為5（如圖33），其中0 為 none；1 為陰天（Cloudy）；2 為晚上（Dark）；3 為黃昏（Dusk）；4 為晴天 （Sunny）。 圖33、Keras CNN Sky Model （本研究製作） Sky Model 採用adam 優化器作參數調整，迭代（Iteration）訓練次數為30 次、 批次大小（Batch size）為128。最終圖像驗證集訓練成果為97%的準確率， 23 Dropout 機制：在深度學習網路訓練過程中，為了防止訓練過程過度擬合，適當的隨機放棄神經元，可有效提升訓練準 確率。 其中透過混淆矩陣 （Cloudy），共有6 共有5 筆預測錯誤（ 天空類別流程如 型則使用自行訓練的 旅遊照的天氣預測語 （Confuse Matrix）分析，2（Dark）容易被 6 筆預測錯誤；再來是1（Cloudy）容易被 （如圖34）。 圖34、History and confuse matrix （本研究製作） 如下（如圖35），透過天空分類的圖片作為 的Sky Model 去做預測，輸出端會預測出2 語句S2，之後S2 會再用ESDB 轉化為具有 圖35、天氣分類流程 （本研究製作） 被預測為1 被預測為4（Sunny）， 為輸入端，CNN 模 2（Cloudy），作為 有情感描述的文字。
