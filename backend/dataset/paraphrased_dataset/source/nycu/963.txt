本研究程式設計 照片四大類別預測 而其中ADE20K [9] 執行的；而四大類別 所以縱使都沒有預測 再做增減，具有彈性 本研究設計一個 增加了自拍（Selfie 應用功能，提供更便 User Interface 計方式，每項階段都是個別運行的，從AD 、EXIF、ESDB，到最後的整合情感描述語 、ESDB 和整合語句，作為圖像輸入和語句 別和EXIF 會因為旅遊照片的內容，不一 測出結果，也會有一段描述語句作為輸出 性。 個使用者介面程式（如圖42），將上述的功 ）、檢查預測（Check Prediction）和分享臉 便利的使用方式。 圖42、TPER UI 介面介紹 （本研究製作） DE20K [9] 場景解析、 語句，都可單獨運行， 句輸出結果，是必須 定都會有相應的輸出， ，這樣程式設計可以 功能導入在裡面，並 臉書（Share FB）的 第一個應用功能：檢查自拍，利用人物類別的Face Detection，將所有臉部框 選出來，我們就可以得到臉部的面積（FA）；然後再取得旅遊照片的長度和寬度， 計算出旅遊照的面積（TPA）。透過下列公式（1），取得臉部比例（FR），其 中，人臉個數為i。  =  	 × 100%                                                           (1) 定義出FR 的 臨界值（Threshold）為n，透過下列公式（2），當FR 大於n 時，就能知道這張照片是屬於自拍照。   > ,       (：0 <  < 100)                   (2) 第二個應用功能：分享臉書，就是將TPER 所預測出來的結果，自動發佈到 臉書上，其方法是呼叫Facebook API。使用Facebook API，要先到Facebook for Develops 網站上，取得Facebook 的長期存取權杖（Long Access Token），而長期 存取權杖需要臉書帳號綁定，與設定發佈相關權限（manage_pages、 publish_pages、publish_to_groups），才能對臉書進行發佈，目前透過這樣的方式， 只能發佈到個人臉書的粉絲專頁上，而個人臉書目前尚未支援。TPER 提供的情 感描述評論，本身是設計用來當作一個範本（Template），提供你參考使用，你 可以直接發佈，或是在發佈之前，修改範本的評論。 第三個應用功能：檢查預測，則是判斷準備要預測的旅遊照片，是否曾經預 測過，判斷的方式就是利用旅遊照片檔名，與資料夾中，之前預測結果檔案名稱 作比對，若搜尋到有相同名稱，就是曾經有預測過。透過這樣的方式，可以不用 再花費預測的時間，又能提供情感描述評論，但會跟上次輸出的情感描述結果會 不一樣，其原因是因為TPER UI 直接使用之前的收集的數據，再次透過ESDB， 隨機提取不同的情感描述語句，所以縱使你每次使用相同的旅遊照去預測，每次 的輸出結果都會不太相同。 四、實驗結果與討論 此章節將會分析不同旅遊照的狀況下，TPER 模型是否能夠預測成功，以及 在旅遊照片有無EXIF 訊息、天氣的變化、照片的人數與角色，在不同的搭配下， 所預測的描述情感文字的變化方式；以及TPER 模型的在整體預測時間、相同預 測時間比較與應用功能，進行分析與討論。
