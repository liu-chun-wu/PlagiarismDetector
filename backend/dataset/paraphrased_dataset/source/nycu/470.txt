在這裡我們採用的魚眼模型為等距投影模型(圖3-8 的右圖)，其特性是入射角𝜃與 成像的像高𝑟成等比關係。 圖3-8 左:Virtual PTZ 成像平面，右：等距投影模型 在對魚眼影像做Virtual PTZ 時，我們需要算出Virtual PTZ 影像在世界座標的basis vector，我們將𝜃設定為40，而𝜑因每隔45 度角切一張圖，所以𝜑分別為0、45、90、135、 180、225、270、315。 Virtual PTZ 在世界座標的basis vector 為： 𝑢& ' = (sin 𝜃cos 𝜑, sin 𝜃sin 𝜑, −cos 𝜃) 𝑢/ ' = 𝑢& ' × 𝑧̂ ⌈𝑢& ' × 𝑧̂⌉ 𝑢7 ' = 𝑢& ' × 𝑢/ ' Virtual PTZ 影像中的任一點(x’, y’)在世界座標中對應的ray 的vector 為： 𝑝⃑= 𝑥;𝑢/ ' + 𝑦;𝑢7 ' + 𝑓𝑢& ' = (𝑃/, 𝑃7,𝑃&), 其中f 為焦距 𝜑B = tanEF G𝑃7 𝑃/ H 𝜃B = tanEF ⎝ ⎛ K𝑃/ L + 𝑃7 L −𝑃& ⎠ ⎞  ! " # C $% &% P θ r   根據等距投影模型 (圖3-8)，點(x’, y’)在魚眼影像中距離圓心為𝑟O = 𝑅∙G RS T L U H 可以換算出魚眼影像座標為 𝐶⃗(圓心) + (𝑟B cos 𝜑B,   𝑟B sin 𝜑B)。
