本研究針對資料前處理的流程進行介紹，分成資料合併與取用、資料清洗（Data Clean）和衍生屬性（Derived Attribute）、資料正規化（Normalization）與重編碼（Recode） 三個步驟，主要針對資料能夠充分的理解與定義，使我們在使用資料時可以減少資料的 不當取用，使得模型不符預期。 資料合併與取用 從NCI 取得的癌症資料主要分成四種檔案，分別以紀錄年限和洲際區分的資料有三 種以及2005 年受卡特里娜颶風影響路易斯安那州的癌症人口統計一種，資料紀錄病患 資料從1973 年開始至2014 年止，這些資料被持續追蹤至2016 年11 月且定期更新。因 上述三種資料所記錄的地區不同，加上所記錄的年限也不同，因此我們需先合併前三種 資料及排除2005 年受天災影響的資料，使所有人口的資料能夠存在同一個資料集上。 在資料取用上，主要受醫療水準的改變與登記資料的格式不同，因此我們取2004 至2014 年共10 年的資料進行分析，在結腸直腸癌中，還包含了發生在直腸部位的資料，因此 我們依照ICD-O-3 的編碼，只選取編碼為C18 開頭的資料。 資料清洗與衍生屬性 本小節介紹資料清洗與產生衍生屬性的步驟，如刪除缺失值與相關欄位以及產生衍 生屬性的產生方法，主要的目的是去除資料的雜訊以及與目標無關的特徵，使得模型的 能夠更適當的被訓練。 首先缺失值處理，資料集存在兩種的缺失值，一種是在記錄時就已經被標記成未知 資料，另一種則是在處理資料時發現的缺失資料，在本研究中將這兩種缺失值都視為同 類並直接進行刪除，但部分例外的欄位會進行補平均數的做法，如腫瘤大小就以平均數 進行數值填補。 在欄位處理上，主要分成過度缺失資料的欄位、決定性欄位、其他癌症專用的欄位、 重編碼的欄位和特定年限使用的欄位，因為這些欄位對於存活預測完全無關甚至有些會 直接影響預測結果，造成不當預測與錯誤解析結果，為了避免這類情況發生，因此這些 欄位都會進行剔除；決定性欄位，如重要狀態記錄（Vital Status Recode）這些欄位包含 了屍檢（Autopsy）的紀錄，代表病患的死亡狀態，這會直接的影響到存活預測；其他癌 症專用欄位主要紀錄的對象並非結腸癌的病患，對預測並無意義，這將會轉換成併發癌 症數量；重編碼欄位主要產生至原始欄位，會有重複的欄位，因此我們只需挑選較具影 響力的欄位即可，如種族重編碼（Race Recode）；特定年限欄位無法概括所有年限的資 料，因此會造成龐大的缺失值，因此直接剔除，如：AJCC 第七版的分期（Derived AJCC- 7 Stage）。 在衍生屬性的欄位上，主要有併發癌症數量、陰性淋巴結數量與陽性淋巴結比例， 以下介紹產生方法。併發癌症數量主要透過各癌症的病人序號進行比對，NCI 的資料總 共分成九種癌症的資料集，以結腸直腸癌為中心向其他八個進行比對，最後加總同時擁 有其他癌症的數量。淋巴結相關資訊，在原始資料上只提供淋巴結檢測總數與陽性淋巴 結數量，在其他文獻上有使用到比例的特徵，陰性淋巴結數量如公式（1），陽性淋巴結 比例如公式（2） 陰性淋巴結數量= 淋巴結檢測總數−陽性淋巴結數量 （1） 陽性淋巴結比例= 陽性淋巴結數量 淋巴結檢測總數 （2） 根據上述資料清洗所剔除的特徵與衍生屬性所產生的特徵，最後留下30 個特徵， 如附錄2。 資料歸一化與重編碼 本節針對對原始資料進行歸一化與重編碼使資料能夠產生順序性或獨立關係讓模 型能夠順利分析。首先進行資料歸一化，例如將腫瘤大小由毫米轉成釐米，並將連續型 的資料進行標準化轉換，讓資料分布平均使數值區間降低，降低屬性上的差異，也可以 提高準確度。在重編碼的部分，因為無序類別（Unordered）之間的數值並無關連，因此 進行獨熱編碼（One-Hot-Encoding）將他們獨立化，使無序類別的資料能夠獨立存在； 另外針對有序類別（Ordinal）的欄位從0 開始進行重編碼，使他們產生序列關係，如癌 症分期、癌症蔓延狀態、淋巴結的轉移情況，最後對性別、婚姻轉成名目編碼。
