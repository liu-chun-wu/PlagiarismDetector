Oracle RAC One Node 與Oracle RAC 具有相同的基礎架構，與Oracle RAC 不同的是，One Node 平時僅運行於一個實例Instance，也就是運作於 一台主機上。如果發生軟硬體故障時，會將服務移轉到另一台主機上 (Instance Relocation)，或是在主機未發生故障時，做線上服務移轉(Online Relocation)，但轉移的過程需要關閉與重啟資料庫，還是會有無法服務的切 換時間，並造成使用者短暫斷線情況。 此架構使用資料庫存儲方式，本章節採用的是iSCSI 架構，模擬SAN 環境下可多台主機共用磁碟的方式。除了測試資料庫切換功能外，本章節也 加入了模擬網路故障，與單顆磁碟陣列RAID Z 硬碟故障，資料庫是否還能 正常運作。關於RAC One Node 架構可參考下圖 圖15  RAC One Node 架構圖 資料來源：本研究整理 關於SCAN IP 的觀念，可參考下圖 RAC 標準架構，透過SCAN IP 與 DNS 名稱解析的對應，IP 對應於192.168.1.61 ~ 63，SCAN IP 會因主機切 換，移轉於RAC 架構中的正常服務主機，所以Client 段因為此機制，僅會 造成短暫中斷，便能繼續執行其相關業務。 圖16  RAC SCAN IP 示意圖 資料來源：IT Read01 (2017) 關於安裝主機資源與網路相關規格，可參考下表： 表7  高可用線上備援 Oracle RAC 測試需求配置 Hostname 主機名稱 rac1 rac2 freenas mydns 網路卡 IP 網址 Bond0 (eth0、 eth1) 192.168.1.51 eth2 10.0.10.1 eth3 172.16.1.2 Bond0 (eth0、eth1) 192.168.1.52 eth2 10.0.10.3 eth3 172.16.1.4 192.168.1.99 192.168.1.88 Hostname 主機名稱 rac1 rac2 freenas mydns 名稱解析對應 DNS IP List rac1 192.168.1.51 rac1-vip 192.168.1.55 rac1-priv1 10.0.10.1 rac1-priv2 172.16.1.2 rac2 192.168.1.52 rac2-vip 192.168.1.56 rac2-priv1 10.0.10.3 rac2-priv2 172.16.1.4 共同對外服務 SCAN IP 名稱解析對應 myscan 192.168.1.61 192.168.1.62 192.168.1.63 myscan 192.168.1.61 192.168.1.62 192.168.1.63 磁碟陣列空間  無 無 200G RAID Z (134G) 無 本機作業系統 配置空間 /boot  1G swap  16G /      24G /12C   30G /boot  1G swap  16G /      24G /12C   30G 安裝自動設 定 /boot 1G swap 4G /    20G Oracle 資料庫版本 12.2.0.1 12.2.0.1 無 無 相關軟體版本 Oracle Grid 12.2.0.1 Oracle Grid 12.2.0.1 無 Bind 9.8.2 虛擬主機平台 VMware Workstation 15 Pro VMware Workstation 15 Pro VMware Workstation 15 Pro VMware Workstation 15 Pro 作業系統 Oracle Linux 6.10 (含更新2019/06) Oracle Linux 6.10 (含更新2019/06) FreeNAS- 11.2-U4.1 CentOS 6.7 (含更新 2019/06) 記憶體配置 16G (建議8G 以 上) 16G (建議8G 以上) 8G 1G 資料來源：本研究整理
