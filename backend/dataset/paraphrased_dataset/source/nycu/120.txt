本研究以Oracle 所建議之高可用及災難復原架構為基礎，探討其中之 資料庫保護機制來進行說明，其架構圖如下圖所示： 圖3  Oracle MAA 架構 資料來源：Oracle (2019) 1. RAC (Real Application Cluster)/RAC One (Scalability, Server HA )：單 主機或雙主機以上的線上備援，透過共享儲存設備及Cache fusion 數據緩存 技術提供硬體故障的保護(Hart and Jesse, 2004)。其中RAC 最重要的技術就 是Cache Fusion，Cache Fusion 就是用1Gb 以上的高速網路在集群內各節點 (Node)的記憶體緩存 (SGA)之間進行Data Block(資料區塊)傳遞，避免先將 Data Block 儲存到磁碟，然後再重新讀入其他實例的SGA 中。 當一個Data Block 被讀入RAC 環境中某個實例的SGA 時，該Data Block 會被賦予一個資源鎖(Lock)，以確保其它實例知道該Data Block 正在 被使用，保持資料最終的一致性。如果之後另一個Instance 請求該Data Block 的一個副本，而該Data Block 已經處於前一個實例的SGA 內，那麼該Data Block 會通過高速網路直接被傳遞到另一個實例的SGA。 代表需要的Data Block 還存在某個Node 的SGA 中，Data Block 無需 寫回磁碟即可在各實例的SGA 之間移動，進而避免重複讀取磁碟的I/O 動 作(Disk Read/Write)，關於磁碟I/O 對於資料庫來說，非常耗時又耗資源， 如何有效減少不必要的I/O，對於資料庫管理人員來說，是一項非常重要的 管理項目。 2. Flashback (Human Error Correction)：提供單主機資料庫快照的功能， 在有限儲存空間，提供一定時間內快速回復資料數據的功能，但無法提供物 理資料毀損的回復，例如：人員誤操作錯導致資料丟失。 3. ASM (Local storage protection)：在硬體式磁碟陣列(Raid)之外，再多 一層軟體存儲集中式管理保護，針對Oracle DB 提供細粒度更高的管控與更 強的I/O 容錯能力。 4. Sharding And Global Data Services (Horizontal Partitioning, Load Balancing )：Sharding 提供了資料Table 按照資料模型與定義策略，水平擴 展切割於多台主機上運作，提高海量數據查詢校能，Global Data Service 則 提供了資料路由導向與Load Balance 負載平衡的功能。 5. Active Data Guard (Data Protection, DR)：提供了資料庫備援機制， 及時複製資料流到異地的熱備援主機上，可進行資料庫切換Primary、 Standby 可用於壓力測試與Report DB 的功能。 6. Golden Gate (Active-Active Replication, Heterogeneous)：類似於Data Guard,但提供更細膩的資料流操作，例如:可針對所需的資料(Table)單向或 多向複製，需求的系統資源比Data Guard 更低，且可複製到異質平台上， 如:MYSQL、MS SQL 等。 7. RMAN (Backup Restore )：Recovery Manager 用於Oracle 資料庫的 備份與還原，提供物理性的恢復與邏輯的修復資料功能，其原理為把歸檔日 誌Redo Log 檔案儲存於備份集中，需要還原時會提取該檔案做Restore 及 Recover 的動作，可結合磁帶機與第三方備份軟體運作。
